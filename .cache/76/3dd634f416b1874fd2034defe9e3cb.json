{"id":"C5yP","dependencies":[{"name":"/Users/jonathanpardofuentes/Documents/ESPOSO/Master Gerencia en Operaciones Estrtegicas/ADTSimulation/package.json","includedInParent":true,"mtime":1734517847220},{"name":"/Users/jonathanpardofuentes/Documents/ESPOSO/Master Gerencia en Operaciones Estrtegicas/ADTSimulation/node_modules/diagram-js/package.json","includedInParent":true,"mtime":1734550576820},{"name":"min-dash","loc":{"line":4,"column":7,"index":36},"parent":"/Users/jonathanpardofuentes/Documents/ESPOSO/Master Gerencia en Operaciones Estrtegicas/ADTSimulation/node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","resolved":"/Users/jonathanpardofuentes/Documents/ESPOSO/Master Gerencia en Operaciones Estrtegicas/ADTSimulation/node_modules/min-dash/dist/index.esm.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=n;var e=require(\"min-dash\");function n(e){this._modeling=e}function c(n){var i={};return(0,e.forEach)(n,function(n){i[n.id]=n.hidden,n.children&&(i=(0,e.assign)({},i,c(n.children)))}),i}function i(n,c){var r=[];return(0,e.forEach)(n,function(e){e.hidden=c,r=r.concat(e),e.children&&(r=r.concat(i(e.children,e.collapsed||c)))}),r}function r(n,c){var i=[];return(0,e.forEach)(n,function(e){e.hidden=c[e.id],i=i.concat(e),e.children&&(i=i.concat(r(e.children,c)))}),i}n.$inject=[\"modeling\"],n.prototype.execute=function(e){var n=e.shape,r=n.children;e.oldChildrenVisibility=c(r),n.collapsed=!n.collapsed;var t=i(r,n.collapsed);return[n].concat(t)},n.prototype.revert=function(e){var n=e.shape,c=e.oldChildrenVisibility,i=r(n.children,c);return n.collapsed=!n.collapsed,[n].concat(i)};"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","original":{"line":113,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","original":{"line":113,"column":0},"generated":{"line":1,"column":13}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","original":{"line":113,"column":0},"generated":{"line":1,"column":20}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","original":{"line":113,"column":0},"generated":{"line":1,"column":35}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","original":{"line":113,"column":0},"generated":{"line":1,"column":43}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","original":{"line":113,"column":0},"generated":{"line":1,"column":56}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","original":{"line":113,"column":0},"generated":{"line":1,"column":57}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","original":{"line":113,"column":0},"generated":{"line":1,"column":64}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","original":{"line":113,"column":0},"generated":{"line":1,"column":68}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","original":{"line":113,"column":0},"generated":{"line":1,"column":76}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","original":{"line":113,"column":0},"generated":{"line":1,"column":84}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","original":{"line":1,"column":0},"generated":{"line":1,"column":86}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"_minDash","original":{"line":1,"column":0},"generated":{"line":1,"column":90}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"require","original":{"line":1,"column":0},"generated":{"line":1,"column":92}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","original":{"line":1,"column":0},"generated":{"line":1,"column":100}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","original":{"line":18,"column":15},"generated":{"line":1,"column":112}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"ToggleShapeCollapseHandler","original":{"line":18,"column":24},"generated":{"line":1,"column":121}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"modeling","original":{"line":18,"column":51},"generated":{"line":1,"column":123}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","original":{"line":19,"column":2},"generated":{"line":1,"column":126}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"_modeling","original":{"line":19,"column":7},"generated":{"line":1,"column":131}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"modeling","original":{"line":19,"column":19},"generated":{"line":1,"column":141}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","original":{"line":69,"column":0},"generated":{"line":1,"column":143}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"getElementsVisibilityRecursive","original":{"line":69,"column":9},"generated":{"line":1,"column":152}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"elements","original":{"line":69,"column":40},"generated":{"line":1,"column":154}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","original":{"line":71,"column":2},"generated":{"line":1,"column":157}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"result","original":{"line":71,"column":6},"generated":{"line":1,"column":161}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","original":{"line":71,"column":15},"generated":{"line":1,"column":163}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","original":{"line":81,"column":2},"generated":{"line":1,"column":166}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","original":{"line":73,"column":2},"generated":{"line":1,"column":173}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"forEach","original":{"line":73,"column":2},"generated":{"line":1,"column":175}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","original":{"line":73,"column":9},"generated":{"line":1,"column":177}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"elements","original":{"line":73,"column":10},"generated":{"line":1,"column":186}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","original":{"line":73,"column":20},"generated":{"line":1,"column":188}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"element","original":{"line":73,"column":29},"generated":{"line":1,"column":197}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"result","original":{"line":74,"column":4},"generated":{"line":1,"column":200}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"element","original":{"line":74,"column":11},"generated":{"line":1,"column":202}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"id","original":{"line":74,"column":19},"generated":{"line":1,"column":204}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"element","original":{"line":74,"column":25},"generated":{"line":1,"column":208}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"hidden","original":{"line":74,"column":33},"generated":{"line":1,"column":210}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"element","original":{"line":76,"column":8},"generated":{"line":1,"column":217}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"children","original":{"line":76,"column":16},"generated":{"line":1,"column":219}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"result","original":{"line":77,"column":6},"generated":{"line":1,"column":230}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","original":{"line":77,"column":15},"generated":{"line":1,"column":233}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"assign","original":{"line":77,"column":15},"generated":{"line":1,"column":235}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","original":{"line":77,"column":21},"generated":{"line":1,"column":237}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","original":{"line":77,"column":22},"generated":{"line":1,"column":245}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"result","original":{"line":77,"column":26},"generated":{"line":1,"column":248}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"getElementsVisibilityRecursive","original":{"line":77,"column":34},"generated":{"line":1,"column":250}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"element","original":{"line":77,"column":65},"generated":{"line":1,"column":252}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"children","original":{"line":77,"column":73},"generated":{"line":1,"column":254}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"result","original":{"line":81,"column":9},"generated":{"line":1,"column":268}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","original":{"line":85,"column":0},"generated":{"line":1,"column":270}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"setHiddenRecursive","original":{"line":85,"column":9},"generated":{"line":1,"column":279}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"elements","original":{"line":85,"column":28},"generated":{"line":1,"column":281}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"newHidden","original":{"line":85,"column":38},"generated":{"line":1,"column":283}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","original":{"line":86,"column":2},"generated":{"line":1,"column":286}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"result","original":{"line":86,"column":6},"generated":{"line":1,"column":290}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","original":{"line":86,"column":15},"generated":{"line":1,"column":292}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","original":{"line":97,"column":2},"generated":{"line":1,"column":295}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","original":{"line":87,"column":2},"generated":{"line":1,"column":302}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"forEach","original":{"line":87,"column":2},"generated":{"line":1,"column":304}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","original":{"line":87,"column":9},"generated":{"line":1,"column":306}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"elements","original":{"line":87,"column":10},"generated":{"line":1,"column":315}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","original":{"line":87,"column":20},"generated":{"line":1,"column":317}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"element","original":{"line":87,"column":29},"generated":{"line":1,"column":326}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"element","original":{"line":88,"column":4},"generated":{"line":1,"column":329}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"hidden","original":{"line":88,"column":12},"generated":{"line":1,"column":331}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"newHidden","original":{"line":88,"column":21},"generated":{"line":1,"column":338}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"result","original":{"line":90,"column":4},"generated":{"line":1,"column":340}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"result","original":{"line":90,"column":13},"generated":{"line":1,"column":342}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"concat","original":{"line":90,"column":20},"generated":{"line":1,"column":344}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"element","original":{"line":90,"column":27},"generated":{"line":1,"column":351}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"element","original":{"line":92,"column":8},"generated":{"line":1,"column":354}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"children","original":{"line":92,"column":16},"generated":{"line":1,"column":356}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"result","original":{"line":93,"column":6},"generated":{"line":1,"column":367}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"result","original":{"line":93,"column":15},"generated":{"line":1,"column":369}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"concat","original":{"line":93,"column":22},"generated":{"line":1,"column":371}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"setHiddenRecursive","original":{"line":93,"column":29},"generated":{"line":1,"column":378}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"element","original":{"line":93,"column":48},"generated":{"line":1,"column":380}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"children","original":{"line":93,"column":56},"generated":{"line":1,"column":382}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"element","original":{"line":93,"column":66},"generated":{"line":1,"column":391}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"collapsed","original":{"line":93,"column":74},"generated":{"line":1,"column":393}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"newHidden","original":{"line":93,"column":87},"generated":{"line":1,"column":404}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"result","original":{"line":97,"column":9},"generated":{"line":1,"column":411}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","original":{"line":100,"column":0},"generated":{"line":1,"column":413}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"restoreVisibilityRecursive","original":{"line":100,"column":9},"generated":{"line":1,"column":422}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"elements","original":{"line":100,"column":36},"generated":{"line":1,"column":424}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"lastState","original":{"line":100,"column":46},"generated":{"line":1,"column":426}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","original":{"line":101,"column":2},"generated":{"line":1,"column":429}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"result","original":{"line":101,"column":6},"generated":{"line":1,"column":433}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","original":{"line":101,"column":15},"generated":{"line":1,"column":435}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","original":{"line":112,"column":2},"generated":{"line":1,"column":438}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","original":{"line":102,"column":2},"generated":{"line":1,"column":445}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"forEach","original":{"line":102,"column":2},"generated":{"line":1,"column":447}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","original":{"line":102,"column":9},"generated":{"line":1,"column":449}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"elements","original":{"line":102,"column":10},"generated":{"line":1,"column":458}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","original":{"line":102,"column":20},"generated":{"line":1,"column":460}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"element","original":{"line":102,"column":29},"generated":{"line":1,"column":469}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"element","original":{"line":103,"column":4},"generated":{"line":1,"column":472}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"hidden","original":{"line":103,"column":12},"generated":{"line":1,"column":474}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"lastState","original":{"line":103,"column":21},"generated":{"line":1,"column":481}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"element","original":{"line":103,"column":31},"generated":{"line":1,"column":483}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"id","original":{"line":103,"column":39},"generated":{"line":1,"column":485}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"result","original":{"line":105,"column":4},"generated":{"line":1,"column":489}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"result","original":{"line":105,"column":13},"generated":{"line":1,"column":491}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"concat","original":{"line":105,"column":20},"generated":{"line":1,"column":493}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"element","original":{"line":105,"column":27},"generated":{"line":1,"column":500}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"element","original":{"line":107,"column":8},"generated":{"line":1,"column":503}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"children","original":{"line":107,"column":16},"generated":{"line":1,"column":505}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"result","original":{"line":108,"column":6},"generated":{"line":1,"column":516}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"result","original":{"line":108,"column":15},"generated":{"line":1,"column":518}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"concat","original":{"line":108,"column":22},"generated":{"line":1,"column":520}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"restoreVisibilityRecursive","original":{"line":108,"column":29},"generated":{"line":1,"column":527}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"element","original":{"line":108,"column":56},"generated":{"line":1,"column":529}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"children","original":{"line":108,"column":64},"generated":{"line":1,"column":531}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"lastState","original":{"line":108,"column":74},"generated":{"line":1,"column":540}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"result","original":{"line":112,"column":9},"generated":{"line":1,"column":547}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"ToggleShapeCollapseHandler","original":{"line":22,"column":0},"generated":{"line":1,"column":549}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"$inject","original":{"line":22,"column":27},"generated":{"line":1,"column":551}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","original":{"line":22,"column":37},"generated":{"line":1,"column":559}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","original":{"line":22,"column":39},"generated":{"line":1,"column":560}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"ToggleShapeCollapseHandler","original":{"line":25,"column":0},"generated":{"line":1,"column":572}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"prototype","original":{"line":25,"column":27},"generated":{"line":1,"column":574}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"execute","original":{"line":25,"column":37},"generated":{"line":1,"column":584}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","original":{"line":25,"column":47},"generated":{"line":1,"column":592}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"context","original":{"line":25,"column":56},"generated":{"line":1,"column":601}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","original":{"line":27,"column":2},"generated":{"line":1,"column":604}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"shape","original":{"line":27,"column":6},"generated":{"line":1,"column":608}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"context","original":{"line":27,"column":14},"generated":{"line":1,"column":610}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"shape","original":{"line":27,"column":22},"generated":{"line":1,"column":612}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"children","original":{"line":28,"column":6},"generated":{"line":1,"column":618}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"shape","original":{"line":28,"column":17},"generated":{"line":1,"column":620}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"children","original":{"line":28,"column":23},"generated":{"line":1,"column":622}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"context","original":{"line":31,"column":2},"generated":{"line":1,"column":631}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"oldChildrenVisibility","original":{"line":31,"column":10},"generated":{"line":1,"column":633}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"getElementsVisibilityRecursive","original":{"line":31,"column":34},"generated":{"line":1,"column":655}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"children","original":{"line":31,"column":65},"generated":{"line":1,"column":657}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"shape","original":{"line":34,"column":2},"generated":{"line":1,"column":660}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"collapsed","original":{"line":34,"column":8},"generated":{"line":1,"column":662}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"shape","original":{"line":34,"column":21},"generated":{"line":1,"column":673}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"collapsed","original":{"line":34,"column":27},"generated":{"line":1,"column":675}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","original":{"line":37,"column":2},"generated":{"line":1,"column":685}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"result","original":{"line":37,"column":6},"generated":{"line":1,"column":689}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"setHiddenRecursive","original":{"line":37,"column":15},"generated":{"line":1,"column":691}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"children","original":{"line":37,"column":34},"generated":{"line":1,"column":693}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"shape","original":{"line":37,"column":44},"generated":{"line":1,"column":695}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"collapsed","original":{"line":37,"column":50},"generated":{"line":1,"column":697}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","original":{"line":39,"column":2},"generated":{"line":1,"column":708}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","original":{"line":39,"column":9},"generated":{"line":1,"column":714}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"shape","original":{"line":39,"column":11},"generated":{"line":1,"column":715}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"concat","original":{"line":39,"column":19},"generated":{"line":1,"column":718}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"result","original":{"line":39,"column":26},"generated":{"line":1,"column":725}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"ToggleShapeCollapseHandler","original":{"line":43,"column":0},"generated":{"line":1,"column":729}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"prototype","original":{"line":43,"column":27},"generated":{"line":1,"column":731}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"revert","original":{"line":43,"column":37},"generated":{"line":1,"column":741}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","original":{"line":43,"column":46},"generated":{"line":1,"column":748}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"context","original":{"line":43,"column":55},"generated":{"line":1,"column":757}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","original":{"line":45,"column":2},"generated":{"line":1,"column":760}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"shape","original":{"line":45,"column":6},"generated":{"line":1,"column":764}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"context","original":{"line":45,"column":14},"generated":{"line":1,"column":766}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"shape","original":{"line":45,"column":22},"generated":{"line":1,"column":768}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"oldChildrenVisibility","original":{"line":46,"column":6},"generated":{"line":1,"column":774}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"context","original":{"line":46,"column":30},"generated":{"line":1,"column":776}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"oldChildrenVisibility","original":{"line":46,"column":38},"generated":{"line":1,"column":778}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"result","original":{"line":51,"column":6},"generated":{"line":1,"column":800}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"restoreVisibilityRecursive","original":{"line":51,"column":15},"generated":{"line":1,"column":802}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"shape","original":{"line":48,"column":17},"generated":{"line":1,"column":804}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"children","original":{"line":48,"column":23},"generated":{"line":1,"column":806}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"oldChildrenVisibility","original":{"line":51,"column":52},"generated":{"line":1,"column":815}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","original":{"line":56,"column":2},"generated":{"line":1,"column":818}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"shape","original":{"line":54,"column":2},"generated":{"line":1,"column":825}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"collapsed","original":{"line":54,"column":8},"generated":{"line":1,"column":827}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"shape","original":{"line":54,"column":21},"generated":{"line":1,"column":838}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"collapsed","original":{"line":54,"column":27},"generated":{"line":1,"column":840}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","original":{"line":56,"column":9},"generated":{"line":1,"column":850}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"shape","original":{"line":56,"column":11},"generated":{"line":1,"column":851}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"concat","original":{"line":56,"column":19},"generated":{"line":1,"column":854}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js","name":"result","original":{"line":56,"column":26},"generated":{"line":1,"column":861}}],"sources":{"node_modules/diagram-js/lib/features/modeling/cmd/ToggleShapeCollapseHandler.js":"import {\n  assign,\n  forEach\n} from 'min-dash';\n\n/**\n * @typedef {import('../../model').Shape} Shape\n *\n * @typedef {import('../Modeling').default} Modeling\n */\n\n/**\n * A handler that toggles the collapsed state of an element\n * and the visibility of all its children.\n *\n * @param {Modeling} modeling\n */\nexport default function ToggleShapeCollapseHandler(modeling) {\n  this._modeling = modeling;\n}\n\nToggleShapeCollapseHandler.$inject = [ 'modeling' ];\n\n\nToggleShapeCollapseHandler.prototype.execute = function(context) {\n\n  var shape = context.shape,\n      children = shape.children;\n\n  // recursively remember previous visibility of children\n  context.oldChildrenVisibility = getElementsVisibilityRecursive(children);\n\n  // toggle state\n  shape.collapsed = !shape.collapsed;\n\n  // recursively hide/show children\n  var result = setHiddenRecursive(children, shape.collapsed);\n\n  return [ shape ].concat(result);\n};\n\n\nToggleShapeCollapseHandler.prototype.revert = function(context) {\n\n  var shape = context.shape,\n      oldChildrenVisibility = context.oldChildrenVisibility;\n\n  var children = shape.children;\n\n  // recursively set old visability of children\n  var result = restoreVisibilityRecursive(children, oldChildrenVisibility);\n\n  // retoggle state\n  shape.collapsed = !shape.collapsed;\n\n  return [ shape ].concat(result);\n};\n\n\n// helpers //////////////////////\n\n/**\n * Return a map { elementId -> hiddenState}.\n *\n * @param {Array<Shape>} elements\n *\n * @return {Object}\n */\nfunction getElementsVisibilityRecursive(elements) {\n\n  var result = {};\n\n  forEach(elements, function(element) {\n    result[element.id] = element.hidden;\n\n    if (element.children) {\n      result = assign({}, result, getElementsVisibilityRecursive(element.children));\n    }\n  });\n\n  return result;\n}\n\n\nfunction setHiddenRecursive(elements, newHidden) {\n  var result = [];\n  forEach(elements, function(element) {\n    element.hidden = newHidden;\n\n    result = result.concat(element);\n\n    if (element.children) {\n      result = result.concat(setHiddenRecursive(element.children, element.collapsed || newHidden));\n    }\n  });\n\n  return result;\n}\n\nfunction restoreVisibilityRecursive(elements, lastState) {\n  var result = [];\n  forEach(elements, function(element) {\n    element.hidden = lastState[element.id];\n\n    result = result.concat(element);\n\n    if (element.children) {\n      result = result.concat(restoreVisibilityRecursive(element.children, lastState));\n    }\n  });\n\n  return result;\n}\n"},"lineCount":null}},"error":null,"hash":"b2bdafbab84375d22c717c502608de37","cacheData":{"env":{}}}