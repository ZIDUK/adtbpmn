{"id":"qSqK","dependencies":[{"name":"/Users/jonathanpardofuentes/Documents/ESPOSO/Master Gerencia en Operaciones Estrtegicas/ADTSimulation/package.json","includedInParent":true,"mtime":1734554305095},{"name":"/Users/jonathanpardofuentes/Documents/ESPOSO/Master Gerencia en Operaciones Estrtegicas/ADTSimulation/node_modules/diagram-js/package.json","includedInParent":true,"mtime":1734551985151},{"name":"min-dash","loc":{"line":3,"column":7,"index":26},"parent":"/Users/jonathanpardofuentes/Documents/ESPOSO/Master Gerencia en Operaciones Estrtegicas/ADTSimulation/node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","resolved":"/Users/jonathanpardofuentes/Documents/ESPOSO/Master Gerencia en Operaciones Estrtegicas/ADTSimulation/node_modules/min-dash/dist/index.esm.js"},{"name":"min-dom","loc":{"line":7,"column":7,"index":79},"parent":"/Users/jonathanpardofuentes/Documents/ESPOSO/Master Gerencia en Operaciones Estrtegicas/ADTSimulation/node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","resolved":"/Users/jonathanpardofuentes/Documents/ESPOSO/Master Gerencia en Operaciones Estrtegicas/ADTSimulation/node_modules/min-dom/dist/index.esm.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=n;var t=require(\"min-dash\"),e=require(\"min-dom\"),i=250;function n(t,e){this._eventBus=t,this._dragging=e,this._tools=[],this._active=null}function o(t){var i=t.originalEvent&&t.originalEvent.target;return i&&(0,e.closest)(i,'.group[data-group=\"tools\"]')}n.$inject=[\"eventBus\",\"dragging\"],n.prototype.registerTool=function(t,e){var i=this._tools;if(!e)throw new Error('A tool has to be registered with it\\'s \"events\"');i.push(t),this.bindEvents(t,e)},n.prototype.isActive=function(t){return t&&this._active===t},n.prototype.length=function(t){return this._tools.length},n.prototype.setActive=function(t){var e=this._eventBus;this._active!==t&&(this._active=t,e.fire(\"tool-manager.update\",{tool:t}))},n.prototype.bindEvents=function(e,n){var s=this._eventBus,r=this._dragging,u=[];s.on(n.tool+\".init\",function(t){if(!t.context.reactivate&&this.isActive(e))return this.setActive(null),void r.cancel();this.setActive(e)},this),(0,t.forEach)(n,function(t){u.push(t+\".ended\"),u.push(t+\".canceled\")}),s.on(u,i,function(t){this._active&&(o(t)||this.setActive(null))},this)};"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":122,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":122,"column":0},"generated":{"line":1,"column":13}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":122,"column":0},"generated":{"line":1,"column":20}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":122,"column":0},"generated":{"line":1,"column":35}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":122,"column":0},"generated":{"line":1,"column":43}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":122,"column":0},"generated":{"line":1,"column":56}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":122,"column":0},"generated":{"line":1,"column":57}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":122,"column":0},"generated":{"line":1,"column":64}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":122,"column":0},"generated":{"line":1,"column":68}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":122,"column":0},"generated":{"line":1,"column":76}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":122,"column":0},"generated":{"line":1,"column":84}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":1,"column":0},"generated":{"line":1,"column":86}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"_minDash","original":{"line":1,"column":0},"generated":{"line":1,"column":90}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"require","original":{"line":1,"column":0},"generated":{"line":1,"column":92}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":1,"column":0},"generated":{"line":1,"column":100}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"_minDom","original":{"line":5,"column":0},"generated":{"line":1,"column":112}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"require","original":{"line":5,"column":0},"generated":{"line":1,"column":114}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":5,"column":0},"generated":{"line":1,"column":122}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"LOW_PRIORITY","original":{"line":14,"column":4},"generated":{"line":1,"column":133}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":14,"column":19},"generated":{"line":1,"column":135}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":23,"column":15},"generated":{"line":1,"column":139}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"ToolManager","original":{"line":23,"column":24},"generated":{"line":1,"column":148}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"eventBus","original":{"line":23,"column":36},"generated":{"line":1,"column":150}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"dragging","original":{"line":23,"column":46},"generated":{"line":1,"column":152}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":24,"column":2},"generated":{"line":1,"column":155}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"_eventBus","original":{"line":24,"column":7},"generated":{"line":1,"column":160}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"eventBus","original":{"line":24,"column":19},"generated":{"line":1,"column":170}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":25,"column":2},"generated":{"line":1,"column":172}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"_dragging","original":{"line":25,"column":7},"generated":{"line":1,"column":177}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"dragging","original":{"line":25,"column":19},"generated":{"line":1,"column":187}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":27,"column":2},"generated":{"line":1,"column":189}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"_tools","original":{"line":27,"column":7},"generated":{"line":1,"column":194}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":27,"column":16},"generated":{"line":1,"column":201}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":28,"column":2},"generated":{"line":1,"column":204}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"_active","original":{"line":28,"column":7},"generated":{"line":1,"column":209}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":28,"column":17},"generated":{"line":1,"column":217}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":118,"column":0},"generated":{"line":1,"column":222}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"isPaletteClick","original":{"line":118,"column":9},"generated":{"line":1,"column":231}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"event","original":{"line":118,"column":24},"generated":{"line":1,"column":233}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":119,"column":2},"generated":{"line":1,"column":236}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"target","original":{"line":119,"column":6},"generated":{"line":1,"column":240}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"event","original":{"line":119,"column":15},"generated":{"line":1,"column":242}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"originalEvent","original":{"line":119,"column":21},"generated":{"line":1,"column":244}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"event","original":{"line":119,"column":38},"generated":{"line":1,"column":259}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"originalEvent","original":{"line":119,"column":44},"generated":{"line":1,"column":261}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"target","original":{"line":119,"column":58},"generated":{"line":1,"column":275}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":121,"column":2},"generated":{"line":1,"column":282}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"target","original":{"line":121,"column":9},"generated":{"line":1,"column":289}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":121,"column":19},"generated":{"line":1,"column":293}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"domClosest","original":{"line":121,"column":19},"generated":{"line":1,"column":295}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":121,"column":29},"generated":{"line":1,"column":297}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"target","original":{"line":121,"column":30},"generated":{"line":1,"column":306}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":121,"column":38},"generated":{"line":1,"column":308}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"ToolManager","original":{"line":31,"column":0},"generated":{"line":1,"column":338}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"$inject","original":{"line":31,"column":12},"generated":{"line":1,"column":340}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":31,"column":22},"generated":{"line":1,"column":348}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":31,"column":24},"generated":{"line":1,"column":349}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":31,"column":36},"generated":{"line":1,"column":360}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"ToolManager","original":{"line":33,"column":0},"generated":{"line":1,"column":372}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"prototype","original":{"line":33,"column":12},"generated":{"line":1,"column":374}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"registerTool","original":{"line":33,"column":22},"generated":{"line":1,"column":384}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":33,"column":37},"generated":{"line":1,"column":397}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"name","original":{"line":33,"column":46},"generated":{"line":1,"column":406}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"events","original":{"line":33,"column":52},"generated":{"line":1,"column":408}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":34,"column":2},"generated":{"line":1,"column":411}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"tools","original":{"line":34,"column":6},"generated":{"line":1,"column":415}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":34,"column":14},"generated":{"line":1,"column":417}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"_tools","original":{"line":34,"column":19},"generated":{"line":1,"column":422}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":36,"column":2},"generated":{"line":1,"column":429}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"events","original":{"line":36,"column":7},"generated":{"line":1,"column":433}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":37,"column":4},"generated":{"line":1,"column":435}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":37,"column":10},"generated":{"line":1,"column":441}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"Error","original":{"line":37,"column":14},"generated":{"line":1,"column":445}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":37,"column":20},"generated":{"line":1,"column":451}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"tools","original":{"line":40,"column":2},"generated":{"line":1,"column":502}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"push","original":{"line":40,"column":8},"generated":{"line":1,"column":504}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"name","original":{"line":40,"column":13},"generated":{"line":1,"column":509}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":42,"column":2},"generated":{"line":1,"column":512}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"bindEvents","original":{"line":42,"column":7},"generated":{"line":1,"column":517}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"name","original":{"line":42,"column":18},"generated":{"line":1,"column":528}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"events","original":{"line":42,"column":24},"generated":{"line":1,"column":530}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"ToolManager","original":{"line":45,"column":0},"generated":{"line":1,"column":534}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"prototype","original":{"line":45,"column":12},"generated":{"line":1,"column":536}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"isActive","original":{"line":45,"column":22},"generated":{"line":1,"column":546}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":45,"column":33},"generated":{"line":1,"column":555}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"tool","original":{"line":45,"column":42},"generated":{"line":1,"column":564}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":46,"column":2},"generated":{"line":1,"column":567}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"tool","original":{"line":46,"column":9},"generated":{"line":1,"column":574}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":46,"column":17},"generated":{"line":1,"column":577}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"_active","original":{"line":46,"column":22},"generated":{"line":1,"column":582}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"tool","original":{"line":46,"column":34},"generated":{"line":1,"column":592}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"ToolManager","original":{"line":49,"column":0},"generated":{"line":1,"column":595}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"prototype","original":{"line":49,"column":12},"generated":{"line":1,"column":597}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"length","original":{"line":49,"column":22},"generated":{"line":1,"column":607}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":49,"column":31},"generated":{"line":1,"column":614}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"tool","original":{"line":49,"column":40},"generated":{"line":1,"column":623}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":50,"column":2},"generated":{"line":1,"column":626}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":50,"column":9},"generated":{"line":1,"column":633}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"_tools","original":{"line":50,"column":14},"generated":{"line":1,"column":638}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"length","original":{"line":50,"column":21},"generated":{"line":1,"column":645}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"ToolManager","original":{"line":53,"column":0},"generated":{"line":1,"column":653}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"prototype","original":{"line":53,"column":12},"generated":{"line":1,"column":655}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"setActive","original":{"line":53,"column":22},"generated":{"line":1,"column":665}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":53,"column":34},"generated":{"line":1,"column":675}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"tool","original":{"line":53,"column":43},"generated":{"line":1,"column":684}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":54,"column":2},"generated":{"line":1,"column":687}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"eventBus","original":{"line":54,"column":6},"generated":{"line":1,"column":691}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":54,"column":17},"generated":{"line":1,"column":693}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"_eventBus","original":{"line":54,"column":22},"generated":{"line":1,"column":698}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":56,"column":6},"generated":{"line":1,"column":708}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"_active","original":{"line":56,"column":11},"generated":{"line":1,"column":713}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"tool","original":{"line":56,"column":23},"generated":{"line":1,"column":723}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":57,"column":4},"generated":{"line":1,"column":727}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"_active","original":{"line":57,"column":9},"generated":{"line":1,"column":732}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"tool","original":{"line":57,"column":19},"generated":{"line":1,"column":740}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"eventBus","original":{"line":59,"column":4},"generated":{"line":1,"column":742}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"fire","original":{"line":59,"column":13},"generated":{"line":1,"column":744}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":59,"column":18},"generated":{"line":1,"column":749}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":59,"column":41},"generated":{"line":1,"column":771}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"tool","original":{"line":59,"column":43},"generated":{"line":1,"column":772}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"tool","original":{"line":59,"column":49},"generated":{"line":1,"column":777}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"ToolManager","original":{"line":63,"column":0},"generated":{"line":1,"column":783}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"prototype","original":{"line":63,"column":12},"generated":{"line":1,"column":785}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"bindEvents","original":{"line":63,"column":22},"generated":{"line":1,"column":795}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":63,"column":35},"generated":{"line":1,"column":806}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"name","original":{"line":63,"column":44},"generated":{"line":1,"column":815}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"events","original":{"line":63,"column":50},"generated":{"line":1,"column":817}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":64,"column":2},"generated":{"line":1,"column":820}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"eventBus","original":{"line":64,"column":6},"generated":{"line":1,"column":824}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":64,"column":17},"generated":{"line":1,"column":826}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"_eventBus","original":{"line":64,"column":22},"generated":{"line":1,"column":831}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"dragging","original":{"line":65,"column":6},"generated":{"line":1,"column":841}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":65,"column":17},"generated":{"line":1,"column":843}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"_dragging","original":{"line":65,"column":22},"generated":{"line":1,"column":848}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"eventsToRegister","original":{"line":67,"column":6},"generated":{"line":1,"column":858}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":67,"column":25},"generated":{"line":1,"column":860}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"eventBus","original":{"line":69,"column":2},"generated":{"line":1,"column":863}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"on","original":{"line":69,"column":11},"generated":{"line":1,"column":865}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"events","original":{"line":69,"column":14},"generated":{"line":1,"column":868}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"tool","original":{"line":69,"column":21},"generated":{"line":1,"column":870}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":69,"column":28},"generated":{"line":1,"column":875}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":69,"column":37},"generated":{"line":1,"column":883}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"event","original":{"line":69,"column":46},"generated":{"line":1,"column":892}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":73,"column":4},"generated":{"line":1,"column":895}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"event","original":{"line":70,"column":18},"generated":{"line":1,"column":899}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"context","original":{"line":70,"column":24},"generated":{"line":1,"column":901}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"reactivate","original":{"line":73,"column":17},"generated":{"line":1,"column":909}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":73,"column":31},"generated":{"line":1,"column":921}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"isActive","original":{"line":73,"column":36},"generated":{"line":1,"column":926}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"name","original":{"line":73,"column":45},"generated":{"line":1,"column":935}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":77,"column":6},"generated":{"line":1,"column":938}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":74,"column":6},"generated":{"line":1,"column":945}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"setActive","original":{"line":74,"column":11},"generated":{"line":1,"column":950}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":74,"column":21},"generated":{"line":1,"column":960}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"dragging","original":{"line":76,"column":6},"generated":{"line":1,"column":971}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"cancel","original":{"line":76,"column":15},"generated":{"line":1,"column":973}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":80,"column":4},"generated":{"line":1,"column":982}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"setActive","original":{"line":80,"column":9},"generated":{"line":1,"column":987}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"name","original":{"line":80,"column":19},"generated":{"line":1,"column":997}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":82,"column":5},"generated":{"line":1,"column":1001}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":85,"column":2},"generated":{"line":1,"column":1008}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"forEach","original":{"line":85,"column":2},"generated":{"line":1,"column":1010}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":85,"column":9},"generated":{"line":1,"column":1012}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"events","original":{"line":85,"column":10},"generated":{"line":1,"column":1021}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":85,"column":18},"generated":{"line":1,"column":1023}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"event","original":{"line":85,"column":27},"generated":{"line":1,"column":1032}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"eventsToRegister","original":{"line":86,"column":4},"generated":{"line":1,"column":1035}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"push","original":{"line":86,"column":21},"generated":{"line":1,"column":1037}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"event","original":{"line":86,"column":26},"generated":{"line":1,"column":1042}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":86,"column":34},"generated":{"line":1,"column":1044}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"eventsToRegister","original":{"line":87,"column":4},"generated":{"line":1,"column":1054}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"push","original":{"line":87,"column":21},"generated":{"line":1,"column":1056}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"event","original":{"line":87,"column":26},"generated":{"line":1,"column":1061}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":87,"column":34},"generated":{"line":1,"column":1063}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"eventBus","original":{"line":90,"column":2},"generated":{"line":1,"column":1078}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"on","original":{"line":90,"column":11},"generated":{"line":1,"column":1080}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"eventsToRegister","original":{"line":90,"column":14},"generated":{"line":1,"column":1083}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"LOW_PRIORITY","original":{"line":90,"column":32},"generated":{"line":1,"column":1085}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":90,"column":46},"generated":{"line":1,"column":1087}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"event","original":{"line":90,"column":55},"generated":{"line":1,"column":1096}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":95,"column":9},"generated":{"line":1,"column":1099}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"_active","original":{"line":95,"column":14},"generated":{"line":1,"column":1104}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"isPaletteClick","original":{"line":99,"column":8},"generated":{"line":1,"column":1114}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"event","original":{"line":99,"column":23},"generated":{"line":1,"column":1116}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":103,"column":4},"generated":{"line":1,"column":1120}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","name":"setActive","original":{"line":103,"column":9},"generated":{"line":1,"column":1125}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":103,"column":19},"generated":{"line":1,"column":1135}},{"source":"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js","original":{"line":104,"column":5},"generated":{"line":1,"column":1143}}],"sources":{"node_modules/diagram-js/lib/features/tool-manager/ToolManager.js":"import {\n  forEach\n} from 'min-dash';\n\nimport {\n  closest as domClosest\n} from 'min-dom';\n\n/**\n * @typedef {import('../dragging/Dragging').default} Dragging\n * @typedef {import('../../core/EventBus').default} EventBus\n */\n\nvar LOW_PRIORITY = 250;\n\n/**\n * The tool manager acts as middle-man between the available tool's and the Palette,\n * it takes care of making sure that the correct active state is set.\n *\n * @param {EventBus} eventBus\n * @param {Dragging} dragging\n */\nexport default function ToolManager(eventBus, dragging) {\n  this._eventBus = eventBus;\n  this._dragging = dragging;\n\n  this._tools = [];\n  this._active = null;\n}\n\nToolManager.$inject = [ 'eventBus', 'dragging' ];\n\nToolManager.prototype.registerTool = function(name, events) {\n  var tools = this._tools;\n\n  if (!events) {\n    throw new Error('A tool has to be registered with it\\'s \"events\"');\n  }\n\n  tools.push(name);\n\n  this.bindEvents(name, events);\n};\n\nToolManager.prototype.isActive = function(tool) {\n  return tool && this._active === tool;\n};\n\nToolManager.prototype.length = function(tool) {\n  return this._tools.length;\n};\n\nToolManager.prototype.setActive = function(tool) {\n  var eventBus = this._eventBus;\n\n  if (this._active !== tool) {\n    this._active = tool;\n\n    eventBus.fire('tool-manager.update', { tool: tool });\n  }\n};\n\nToolManager.prototype.bindEvents = function(name, events) {\n  var eventBus = this._eventBus,\n      dragging = this._dragging;\n\n  var eventsToRegister = [];\n\n  eventBus.on(events.tool + '.init', function(event) {\n    var context = event.context;\n\n    // Active tools that want to reactivate themselves must do this explicitly\n    if (!context.reactivate && this.isActive(name)) {\n      this.setActive(null);\n\n      dragging.cancel();\n      return;\n    }\n\n    this.setActive(name);\n\n  }, this);\n\n  // Todo[ricardo]: add test cases\n  forEach(events, function(event) {\n    eventsToRegister.push(event + '.ended');\n    eventsToRegister.push(event + '.canceled');\n  });\n\n  eventBus.on(eventsToRegister, LOW_PRIORITY, function(event) {\n\n    // We defer the de-activation of the tool to the .activate phase,\n    // so we're able to check if we want to toggle off the current\n    // active tool or switch to a new one\n    if (!this._active) {\n      return;\n    }\n\n    if (isPaletteClick(event)) {\n      return;\n    }\n\n    this.setActive(null);\n  }, this);\n\n};\n\n\n// helpers ///////////////\n\n/**\n * Check if a given event is a palette click event.\n *\n * @param {EventBus.Event} event\n *\n * @return {boolean}\n */\nfunction isPaletteClick(event) {\n  var target = event.originalEvent && event.originalEvent.target;\n\n  return target && domClosest(target, '.group[data-group=\"tools\"]');\n}"},"lineCount":null}},"error":null,"hash":"cde82feb9646e7c5d660ae6c7387316a","cacheData":{"env":{}}}