{"id":"JeOH","dependencies":[{"name":"/Users/jonathanpardofuentes/Documents/ESPOSO/Master Gerencia en Operaciones Estrtegicas/ADTSimulation/package.json","includedInParent":true,"mtime":1734553713837},{"name":"/Users/jonathanpardofuentes/Documents/ESPOSO/Master Gerencia en Operaciones Estrtegicas/ADTSimulation/node_modules/diagram-js/package.json","includedInParent":true,"mtime":1734551985151}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=e;var t=\"connect-ok\",n=\"connect-not-ok\";function e(e,o,c,r,a,i,l){var g=this;this._dragging=o,this._rules=i,this._mouse=l,a.registerTool(\"global-connect\",{tool:\"global-connect\",dragging:\"global-connect.drag\"}),e.on(\"global-connect.hover\",function(e){var o=e.context,c=e.hover,a=o.canStartConnect=g.canStartConnect(c);null!==a&&(o.startTarget=c,r.addMarker(c,a?t:n))}),e.on([\"global-connect.out\",\"global-connect.cleanup\"],function(e){var o=e.context.startTarget,c=e.context.canStartConnect;o&&r.removeMarker(o,c?t:n)}),e.on([\"global-connect.ended\"],function(t){var n=t.context.startTarget,o={x:t.x,y:t.y};if(g.canStartConnect(n))return e.once(\"element.out\",function(){e.once([\"connect.ended\",\"connect.canceled\"],function(){e.fire(\"global-connect.drag.ended\")}),c.start(null,n,o)}),!1})}e.$inject=[\"eventBus\",\"dragging\",\"connect\",\"canvas\",\"toolManager\",\"rules\",\"mouse\"],e.prototype.start=function(t,n){this._dragging.init(t,\"global-connect\",{autoActivate:n,trapClick:!1,data:{context:{}}})},e.prototype.toggle=function(){if(this.isActive())return this._dragging.cancel();var t=this._mouse.getLastMoveEvent();return this.start(t,!!t)},e.prototype.isActive=function(){var t=this._dragging.context();return t&&/^global-connect/.test(t.prefix)},e.prototype.canStartConnect=function(t){return this._rules.allowed(\"connection.start\",{source:t})};"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":143,"column":1},"generated":{"line":1,"column":0}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":143,"column":1},"generated":{"line":1,"column":13}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":143,"column":1},"generated":{"line":1,"column":20}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":143,"column":1},"generated":{"line":1,"column":35}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":143,"column":1},"generated":{"line":1,"column":43}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":143,"column":1},"generated":{"line":1,"column":56}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":143,"column":1},"generated":{"line":1,"column":57}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":143,"column":1},"generated":{"line":1,"column":64}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":143,"column":1},"generated":{"line":1,"column":68}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":143,"column":1},"generated":{"line":1,"column":76}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":143,"column":1},"generated":{"line":1,"column":84}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":1,"column":0},"generated":{"line":1,"column":86}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"MARKER_OK","original":{"line":1,"column":4},"generated":{"line":1,"column":90}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":1,"column":16},"generated":{"line":1,"column":92}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"MARKER_NOT_OK","original":{"line":2,"column":4},"generated":{"line":1,"column":105}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":2,"column":20},"generated":{"line":1,"column":107}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":26,"column":15},"generated":{"line":1,"column":124}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"GlobalConnect","original":{"line":26,"column":24},"generated":{"line":1,"column":133}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"eventBus","original":{"line":27,"column":4},"generated":{"line":1,"column":135}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"dragging","original":{"line":27,"column":14},"generated":{"line":1,"column":137}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"connect","original":{"line":27,"column":24},"generated":{"line":1,"column":139}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"canvas","original":{"line":28,"column":4},"generated":{"line":1,"column":141}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"toolManager","original":{"line":28,"column":12},"generated":{"line":1,"column":143}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"rules","original":{"line":28,"column":25},"generated":{"line":1,"column":145}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"mouse","original":{"line":29,"column":4},"generated":{"line":1,"column":147}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":31,"column":2},"generated":{"line":1,"column":150}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"self","original":{"line":31,"column":6},"generated":{"line":1,"column":154}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":31,"column":13},"generated":{"line":1,"column":156}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":33,"column":2},"generated":{"line":1,"column":161}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"_dragging","original":{"line":33,"column":7},"generated":{"line":1,"column":166}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"dragging","original":{"line":33,"column":19},"generated":{"line":1,"column":176}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":34,"column":2},"generated":{"line":1,"column":178}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"_rules","original":{"line":34,"column":7},"generated":{"line":1,"column":183}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"rules","original":{"line":34,"column":16},"generated":{"line":1,"column":190}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":35,"column":2},"generated":{"line":1,"column":192}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"_mouse","original":{"line":35,"column":7},"generated":{"line":1,"column":197}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"mouse","original":{"line":35,"column":16},"generated":{"line":1,"column":204}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"toolManager","original":{"line":37,"column":2},"generated":{"line":1,"column":206}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"registerTool","original":{"line":37,"column":14},"generated":{"line":1,"column":208}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":37,"column":27},"generated":{"line":1,"column":221}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":37,"column":45},"generated":{"line":1,"column":238}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"tool","original":{"line":38,"column":4},"generated":{"line":1,"column":239}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":38,"column":10},"generated":{"line":1,"column":244}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"dragging","original":{"line":39,"column":4},"generated":{"line":1,"column":261}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":39,"column":14},"generated":{"line":1,"column":270}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"eventBus","original":{"line":42,"column":2},"generated":{"line":1,"column":294}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"on","original":{"line":42,"column":11},"generated":{"line":1,"column":296}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":42,"column":14},"generated":{"line":1,"column":299}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":42,"column":38},"generated":{"line":1,"column":322}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"event","original":{"line":42,"column":47},"generated":{"line":1,"column":331}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":43,"column":4},"generated":{"line":1,"column":334}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"context","original":{"line":43,"column":8},"generated":{"line":1,"column":338}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"event","original":{"line":43,"column":18},"generated":{"line":1,"column":340}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"context","original":{"line":43,"column":24},"generated":{"line":1,"column":342}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"startTarget","original":{"line":44,"column":8},"generated":{"line":1,"column":350}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"event","original":{"line":44,"column":22},"generated":{"line":1,"column":352}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"hover","original":{"line":44,"column":28},"generated":{"line":1,"column":354}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"canStartConnect","original":{"line":46,"column":8},"generated":{"line":1,"column":360}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"context","original":{"line":46,"column":26},"generated":{"line":1,"column":362}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"canStartConnect","original":{"line":46,"column":34},"generated":{"line":1,"column":364}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"self","original":{"line":46,"column":52},"generated":{"line":1,"column":380}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"canStartConnect","original":{"line":46,"column":57},"generated":{"line":1,"column":382}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"startTarget","original":{"line":46,"column":73},"generated":{"line":1,"column":398}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":49,"column":28},"generated":{"line":1,"column":401}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"canStartConnect","original":{"line":49,"column":8},"generated":{"line":1,"column":408}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"context","original":{"line":53,"column":4},"generated":{"line":1,"column":412}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"startTarget","original":{"line":53,"column":12},"generated":{"line":1,"column":414}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"startTarget","original":{"line":53,"column":26},"generated":{"line":1,"column":426}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"canvas","original":{"line":55,"column":4},"generated":{"line":1,"column":428}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"addMarker","original":{"line":55,"column":11},"generated":{"line":1,"column":430}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"startTarget","original":{"line":55,"column":21},"generated":{"line":1,"column":440}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"canStartConnect","original":{"line":55,"column":34},"generated":{"line":1,"column":442}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"MARKER_OK","original":{"line":55,"column":52},"generated":{"line":1,"column":444}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"MARKER_NOT_OK","original":{"line":55,"column":64},"generated":{"line":1,"column":446}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"eventBus","original":{"line":59,"column":2},"generated":{"line":1,"column":452}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"on","original":{"line":59,"column":11},"generated":{"line":1,"column":454}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":59,"column":14},"generated":{"line":1,"column":457}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":59,"column":16},"generated":{"line":1,"column":458}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":59,"column":38},"generated":{"line":1,"column":479}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":59,"column":66},"generated":{"line":1,"column":505}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"event","original":{"line":59,"column":75},"generated":{"line":1,"column":514}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":60,"column":4},"generated":{"line":1,"column":517}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"startTarget","original":{"line":60,"column":8},"generated":{"line":1,"column":521}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"event","original":{"line":60,"column":22},"generated":{"line":1,"column":523}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"context","original":{"line":60,"column":28},"generated":{"line":1,"column":525}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"startTarget","original":{"line":60,"column":36},"generated":{"line":1,"column":533}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"canStartConnect","original":{"line":61,"column":8},"generated":{"line":1,"column":545}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"event","original":{"line":61,"column":26},"generated":{"line":1,"column":547}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"context","original":{"line":61,"column":32},"generated":{"line":1,"column":549}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"canStartConnect","original":{"line":61,"column":40},"generated":{"line":1,"column":557}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"startTarget","original":{"line":63,"column":8},"generated":{"line":1,"column":573}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"canvas","original":{"line":64,"column":6},"generated":{"line":1,"column":576}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"removeMarker","original":{"line":64,"column":13},"generated":{"line":1,"column":578}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"startTarget","original":{"line":64,"column":26},"generated":{"line":1,"column":591}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"canStartConnect","original":{"line":64,"column":39},"generated":{"line":1,"column":593}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"MARKER_OK","original":{"line":64,"column":57},"generated":{"line":1,"column":595}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"MARKER_NOT_OK","original":{"line":64,"column":69},"generated":{"line":1,"column":597}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"eventBus","original":{"line":69,"column":2},"generated":{"line":1,"column":602}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"on","original":{"line":69,"column":11},"generated":{"line":1,"column":604}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":69,"column":14},"generated":{"line":1,"column":607}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":69,"column":16},"generated":{"line":1,"column":608}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":69,"column":42},"generated":{"line":1,"column":632}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"event","original":{"line":69,"column":51},"generated":{"line":1,"column":641}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":70,"column":4},"generated":{"line":1,"column":644}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"startTarget","original":{"line":71,"column":8},"generated":{"line":1,"column":648}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"event","original":{"line":70,"column":18},"generated":{"line":1,"column":650}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"context","original":{"line":70,"column":24},"generated":{"line":1,"column":652}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"startTarget","original":{"line":71,"column":30},"generated":{"line":1,"column":660}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"startPosition","original":{"line":72,"column":8},"generated":{"line":1,"column":672}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":72,"column":24},"generated":{"line":1,"column":674}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"x","original":{"line":73,"column":10},"generated":{"line":1,"column":675}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"event","original":{"line":73,"column":13},"generated":{"line":1,"column":677}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"x","original":{"line":73,"column":19},"generated":{"line":1,"column":679}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"y","original":{"line":74,"column":10},"generated":{"line":1,"column":681}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"event","original":{"line":74,"column":13},"generated":{"line":1,"column":683}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"y","original":{"line":74,"column":19},"generated":{"line":1,"column":685}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":79,"column":4},"generated":{"line":1,"column":688}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"self","original":{"line":77,"column":26},"generated":{"line":1,"column":691}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"canStartConnect","original":{"line":77,"column":31},"generated":{"line":1,"column":693}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"startTarget","original":{"line":77,"column":47},"generated":{"line":1,"column":709}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":91,"column":4},"generated":{"line":1,"column":712}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"eventBus","original":{"line":83,"column":4},"generated":{"line":1,"column":719}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"once","original":{"line":83,"column":13},"generated":{"line":1,"column":721}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":83,"column":18},"generated":{"line":1,"column":726}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":83,"column":33},"generated":{"line":1,"column":740}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"eventBus","original":{"line":84,"column":6},"generated":{"line":1,"column":751}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"once","original":{"line":84,"column":15},"generated":{"line":1,"column":753}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":84,"column":20},"generated":{"line":1,"column":758}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":84,"column":22},"generated":{"line":1,"column":759}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":84,"column":39},"generated":{"line":1,"column":775}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":84,"column":61},"generated":{"line":1,"column":795}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"eventBus","original":{"line":85,"column":8},"generated":{"line":1,"column":806}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"fire","original":{"line":85,"column":17},"generated":{"line":1,"column":808}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":85,"column":22},"generated":{"line":1,"column":813}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"connect","original":{"line":88,"column":6},"generated":{"line":1,"column":844}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"start","original":{"line":88,"column":14},"generated":{"line":1,"column":846}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":88,"column":20},"generated":{"line":1,"column":852}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"startTarget","original":{"line":88,"column":26},"generated":{"line":1,"column":857}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"startPosition","original":{"line":88,"column":39},"generated":{"line":1,"column":859}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":91,"column":11},"generated":{"line":1,"column":865}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"GlobalConnect","original":{"line":95,"column":0},"generated":{"line":1,"column":869}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"$inject","original":{"line":95,"column":14},"generated":{"line":1,"column":871}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":95,"column":24},"generated":{"line":1,"column":879}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":96,"column":2},"generated":{"line":1,"column":880}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":97,"column":2},"generated":{"line":1,"column":891}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":98,"column":2},"generated":{"line":1,"column":902}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":99,"column":2},"generated":{"line":1,"column":912}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":100,"column":2},"generated":{"line":1,"column":921}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":101,"column":2},"generated":{"line":1,"column":935}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":102,"column":2},"generated":{"line":1,"column":943}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"GlobalConnect","original":{"line":108,"column":0},"generated":{"line":1,"column":952}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"prototype","original":{"line":108,"column":14},"generated":{"line":1,"column":954}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"start","original":{"line":108,"column":24},"generated":{"line":1,"column":964}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":108,"column":32},"generated":{"line":1,"column":970}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"event","original":{"line":108,"column":41},"generated":{"line":1,"column":979}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"autoActivate","original":{"line":108,"column":48},"generated":{"line":1,"column":981}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":109,"column":2},"generated":{"line":1,"column":984}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"_dragging","original":{"line":109,"column":7},"generated":{"line":1,"column":989}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"init","original":{"line":109,"column":17},"generated":{"line":1,"column":999}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"event","original":{"line":109,"column":22},"generated":{"line":1,"column":1004}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":109,"column":29},"generated":{"line":1,"column":1006}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":109,"column":47},"generated":{"line":1,"column":1023}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"autoActivate","original":{"line":110,"column":4},"generated":{"line":1,"column":1024}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"autoActivate","original":{"line":110,"column":18},"generated":{"line":1,"column":1037}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"trapClick","original":{"line":111,"column":4},"generated":{"line":1,"column":1039}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":111,"column":15},"generated":{"line":1,"column":1050}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"data","original":{"line":112,"column":4},"generated":{"line":1,"column":1052}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":112,"column":10},"generated":{"line":1,"column":1057}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"context","original":{"line":113,"column":6},"generated":{"line":1,"column":1058}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":113,"column":15},"generated":{"line":1,"column":1066}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"GlobalConnect","original":{"line":118,"column":0},"generated":{"line":1,"column":1073}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"prototype","original":{"line":118,"column":14},"generated":{"line":1,"column":1075}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"toggle","original":{"line":118,"column":24},"generated":{"line":1,"column":1085}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":118,"column":33},"generated":{"line":1,"column":1092}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":120,"column":2},"generated":{"line":1,"column":1103}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":120,"column":6},"generated":{"line":1,"column":1106}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"isActive","original":{"line":120,"column":11},"generated":{"line":1,"column":1111}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":121,"column":4},"generated":{"line":1,"column":1122}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":121,"column":11},"generated":{"line":1,"column":1129}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"_dragging","original":{"line":121,"column":16},"generated":{"line":1,"column":1134}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"cancel","original":{"line":121,"column":26},"generated":{"line":1,"column":1144}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":124,"column":2},"generated":{"line":1,"column":1153}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"mouseEvent","original":{"line":124,"column":6},"generated":{"line":1,"column":1157}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":124,"column":19},"generated":{"line":1,"column":1159}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"_mouse","original":{"line":124,"column":24},"generated":{"line":1,"column":1164}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"getLastMoveEvent","original":{"line":124,"column":31},"generated":{"line":1,"column":1171}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":126,"column":2},"generated":{"line":1,"column":1190}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":126,"column":9},"generated":{"line":1,"column":1197}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"start","original":{"line":126,"column":14},"generated":{"line":1,"column":1202}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"mouseEvent","original":{"line":126,"column":20},"generated":{"line":1,"column":1208}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"mouseEvent","original":{"line":126,"column":34},"generated":{"line":1,"column":1212}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"GlobalConnect","original":{"line":129,"column":0},"generated":{"line":1,"column":1216}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"prototype","original":{"line":129,"column":14},"generated":{"line":1,"column":1218}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"isActive","original":{"line":129,"column":24},"generated":{"line":1,"column":1228}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":129,"column":35},"generated":{"line":1,"column":1237}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":130,"column":2},"generated":{"line":1,"column":1248}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"context","original":{"line":130,"column":6},"generated":{"line":1,"column":1252}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":130,"column":16},"generated":{"line":1,"column":1254}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"_dragging","original":{"line":130,"column":21},"generated":{"line":1,"column":1259}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"context","original":{"line":130,"column":31},"generated":{"line":1,"column":1269}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":132,"column":2},"generated":{"line":1,"column":1279}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"context","original":{"line":132,"column":9},"generated":{"line":1,"column":1286}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":132,"column":20},"generated":{"line":1,"column":1289}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"test","original":{"line":132,"column":38},"generated":{"line":1,"column":1307}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"context","original":{"line":132,"column":43},"generated":{"line":1,"column":1312}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"prefix","original":{"line":132,"column":51},"generated":{"line":1,"column":1314}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"GlobalConnect","original":{"line":141,"column":0},"generated":{"line":1,"column":1323}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"prototype","original":{"line":141,"column":14},"generated":{"line":1,"column":1325}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"canStartConnect","original":{"line":141,"column":24},"generated":{"line":1,"column":1335}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":141,"column":42},"generated":{"line":1,"column":1351}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"startTarget","original":{"line":141,"column":51},"generated":{"line":1,"column":1360}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":142,"column":2},"generated":{"line":1,"column":1363}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":142,"column":9},"generated":{"line":1,"column":1370}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"_rules","original":{"line":142,"column":14},"generated":{"line":1,"column":1375}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"allowed","original":{"line":142,"column":21},"generated":{"line":1,"column":1382}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":142,"column":29},"generated":{"line":1,"column":1390}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","original":{"line":142,"column":49},"generated":{"line":1,"column":1409}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"source","original":{"line":142,"column":51},"generated":{"line":1,"column":1410}},{"source":"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js","name":"startTarget","original":{"line":142,"column":59},"generated":{"line":1,"column":1417}}],"sources":{"node_modules/diagram-js/lib/features/global-connect/GlobalConnect.js":"var MARKER_OK = 'connect-ok',\n    MARKER_NOT_OK = 'connect-not-ok';\n\n/**\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../connect/Connect').default} Connect\n * @typedef {import('../dragging/Dragging').default} Dragging\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../mouse/Mouse').default} Mouse\n * @typedef {import('../rules/Rules').default} Rules\n * @typedef {import('../tool-manager/ToolManager').default} ToolManager\n */\n\n/**\n * @class\n * @constructor\n *\n * @param {EventBus} eventBus\n * @param {Dragging} dragging\n * @param {Connect} connect\n * @param {Canvas} canvas\n * @param {ToolManager} toolManager\n * @param {Rules} rules\n * @param {Mouse} mouse\n */\nexport default function GlobalConnect(\n    eventBus, dragging, connect,\n    canvas, toolManager, rules,\n    mouse) {\n\n  var self = this;\n\n  this._dragging = dragging;\n  this._rules = rules;\n  this._mouse = mouse;\n\n  toolManager.registerTool('global-connect', {\n    tool: 'global-connect',\n    dragging: 'global-connect.drag'\n  });\n\n  eventBus.on('global-connect.hover', function(event) {\n    var context = event.context,\n        startTarget = event.hover;\n\n    var canStartConnect = context.canStartConnect = self.canStartConnect(startTarget);\n\n    // simply ignore hover\n    if (canStartConnect === null) {\n      return;\n    }\n\n    context.startTarget = startTarget;\n\n    canvas.addMarker(startTarget, canStartConnect ? MARKER_OK : MARKER_NOT_OK);\n  });\n\n\n  eventBus.on([ 'global-connect.out', 'global-connect.cleanup' ], function(event) {\n    var startTarget = event.context.startTarget,\n        canStartConnect = event.context.canStartConnect;\n\n    if (startTarget) {\n      canvas.removeMarker(startTarget, canStartConnect ? MARKER_OK : MARKER_NOT_OK);\n    }\n  });\n\n\n  eventBus.on([ 'global-connect.ended' ], function(event) {\n    var context = event.context,\n        startTarget = context.startTarget,\n        startPosition = {\n          x: event.x,\n          y: event.y\n        };\n\n    var canStartConnect = self.canStartConnect(startTarget);\n\n    if (!canStartConnect) {\n      return;\n    }\n\n    eventBus.once('element.out', function() {\n      eventBus.once([ 'connect.ended', 'connect.canceled' ], function() {\n        eventBus.fire('global-connect.drag.ended');\n      });\n\n      connect.start(null, startTarget, startPosition);\n    });\n\n    return false;\n  });\n}\n\nGlobalConnect.$inject = [\n  'eventBus',\n  'dragging',\n  'connect',\n  'canvas',\n  'toolManager',\n  'rules',\n  'mouse'\n];\n\n/**\n * Initiates tool activity.\n */\nGlobalConnect.prototype.start = function(event, autoActivate) {\n  this._dragging.init(event, 'global-connect', {\n    autoActivate: autoActivate,\n    trapClick: false,\n    data: {\n      context: {}\n    }\n  });\n};\n\nGlobalConnect.prototype.toggle = function() {\n\n  if (this.isActive()) {\n    return this._dragging.cancel();\n  }\n\n  var mouseEvent = this._mouse.getLastMoveEvent();\n\n  return this.start(mouseEvent, !!mouseEvent);\n};\n\nGlobalConnect.prototype.isActive = function() {\n  var context = this._dragging.context();\n\n  return context && /^global-connect/.test(context.prefix);\n};\n\n/**\n * Check if source shape can initiate connection.\n *\n * @param {Shape} startTarget\n * @return {boolean}\n */\nGlobalConnect.prototype.canStartConnect = function(startTarget) {\n  return this._rules.allowed('connection.start', { source: startTarget });\n};\n"},"lineCount":null}},"error":null,"hash":"c22d68951b903c05239e745928364dbf","cacheData":{"env":{}}}