{"id":"g4vJ","dependencies":[{"name":"/Users/jonathanpardofuentes/Documents/ESPOSO/Master Gerencia en Operaciones Estrtegicas/ADTSimulation/package.json","includedInParent":true,"mtime":1734553902679},{"name":"/Users/jonathanpardofuentes/Documents/ESPOSO/Master Gerencia en Operaciones Estrtegicas/ADTSimulation/node_modules/diagram-js/package.json","includedInParent":true,"mtime":1734551985151},{"name":"../../layout/LayoutUtil","loc":{"line":3,"column":7,"index":25},"parent":"/Users/jonathanpardofuentes/Documents/ESPOSO/Master Gerencia en Operaciones Estrtegicas/ADTSimulation/node_modules/diagram-js/lib/features/connect/Connect.js","resolved":"/Users/jonathanpardofuentes/Documents/ESPOSO/Master Gerencia en Operaciones Estrtegicas/ADTSimulation/node_modules/diagram-js/lib/layout/LayoutUtil.js"},{"name":"min-dash","loc":{"line":8,"column":7,"index":89},"parent":"/Users/jonathanpardofuentes/Documents/ESPOSO/Master Gerencia en Operaciones Estrtegicas/ADTSimulation/node_modules/diagram-js/lib/features/connect/Connect.js","resolved":"/Users/jonathanpardofuentes/Documents/ESPOSO/Master Gerencia en Operaciones Estrtegicas/ADTSimulation/node_modules/min-dash/dist/index.esm.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=n,exports.isReverse=c;var t=require(\"../../layout/LayoutUtil\"),e=require(\"min-dash\");function n(n,o,r,i){function u(t,e){return i.allowed(\"connection.create\",{source:t,target:e})}n.on(\"connect.hover\",function(t){var n,c=t.context,o=c.start,r=t.hover;if(c.hover=r,n=c.canExecute=u(o,r),!(0,e.isNil)(n)){if(!1!==n)return c.source=o,void(c.target=r);n=c.canExecute=u(r,o),(0,e.isNil)(n)||!1!==n&&(c.source=r,c.target=o)}}),n.on([\"connect.out\",\"connect.cleanup\"],function(t){var e=t.context;e.hover=null,e.source=null,e.target=null,e.canExecute=!1}),n.on(\"connect.end\",function(t){var n=t.context,o=n.canExecute,i=n.connectionStart,u={x:t.x,y:t.y},a=n.source,s=n.target;if(!o)return!1;var l=null,v={connectionStart:c(n)?u:i,connectionEnd:c(n)?i:u};(0,e.isObject)(o)&&(l=o),n.connection=r.connect(a,s,l,v)}),this.start=function(n,c,r,i){(0,e.isObject)(r)||(i=r,r=(0,t.getMid)(c)),o.init(n,\"connect\",{autoActivate:i,data:{shape:c,context:{start:c,connectionStart:r}}})}}function c(t){var e=t.hover,n=t.source,c=t.target;return e&&n&&e===n&&n!==c}n.$inject=[\"eventBus\",\"dragging\",\"modeling\",\"rules\"];"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":165,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":165,"column":0},"generated":{"line":1,"column":13}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":165,"column":0},"generated":{"line":1,"column":20}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":165,"column":0},"generated":{"line":1,"column":35}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":165,"column":0},"generated":{"line":1,"column":43}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":165,"column":0},"generated":{"line":1,"column":56}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":165,"column":0},"generated":{"line":1,"column":57}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":165,"column":0},"generated":{"line":1,"column":64}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":165,"column":0},"generated":{"line":1,"column":68}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":165,"column":0},"generated":{"line":1,"column":76}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":165,"column":0},"generated":{"line":1,"column":84}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":165,"column":0},"generated":{"line":1,"column":86}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":165,"column":0},"generated":{"line":1,"column":94}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":165,"column":0},"generated":{"line":1,"column":104}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":1,"column":0},"generated":{"line":1,"column":106}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"_LayoutUtil","original":{"line":1,"column":0},"generated":{"line":1,"column":110}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"require","original":{"line":1,"column":0},"generated":{"line":1,"column":112}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":1,"column":0},"generated":{"line":1,"column":120}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"_minDash","original":{"line":5,"column":0},"generated":{"line":1,"column":147}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"require","original":{"line":5,"column":0},"generated":{"line":1,"column":149}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":5,"column":0},"generated":{"line":1,"column":157}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":27,"column":15},"generated":{"line":1,"column":169}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"Connect","original":{"line":27,"column":24},"generated":{"line":1,"column":178}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"eventBus","original":{"line":27,"column":32},"generated":{"line":1,"column":180}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"dragging","original":{"line":27,"column":42},"generated":{"line":1,"column":182}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"modeling","original":{"line":27,"column":52},"generated":{"line":1,"column":184}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"rules","original":{"line":27,"column":62},"generated":{"line":1,"column":186}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":31,"column":2},"generated":{"line":1,"column":189}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"canConnect","original":{"line":31,"column":11},"generated":{"line":1,"column":198}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"source","original":{"line":31,"column":22},"generated":{"line":1,"column":200}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"target","original":{"line":31,"column":30},"generated":{"line":1,"column":202}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":32,"column":4},"generated":{"line":1,"column":205}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"rules","original":{"line":32,"column":11},"generated":{"line":1,"column":212}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"allowed","original":{"line":32,"column":17},"generated":{"line":1,"column":214}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":32,"column":25},"generated":{"line":1,"column":222}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":32,"column":46},"generated":{"line":1,"column":242}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"source","original":{"line":33,"column":6},"generated":{"line":1,"column":243}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"source","original":{"line":33,"column":14},"generated":{"line":1,"column":250}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"target","original":{"line":34,"column":6},"generated":{"line":1,"column":252}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"target","original":{"line":34,"column":14},"generated":{"line":1,"column":259}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"eventBus","original":{"line":45,"column":2},"generated":{"line":1,"column":263}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"on","original":{"line":45,"column":11},"generated":{"line":1,"column":265}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":45,"column":14},"generated":{"line":1,"column":268}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":45,"column":31},"generated":{"line":1,"column":284}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"event","original":{"line":45,"column":40},"generated":{"line":1,"column":293}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":46,"column":4},"generated":{"line":1,"column":296}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"canExecute","original":{"line":49,"column":8},"generated":{"line":1,"column":300}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"context","original":{"line":46,"column":8},"generated":{"line":1,"column":302}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"event","original":{"line":46,"column":18},"generated":{"line":1,"column":304}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"context","original":{"line":46,"column":24},"generated":{"line":1,"column":306}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"start","original":{"line":47,"column":8},"generated":{"line":1,"column":314}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"context","original":{"line":47,"column":16},"generated":{"line":1,"column":316}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"start","original":{"line":47,"column":24},"generated":{"line":1,"column":318}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"hover","original":{"line":48,"column":8},"generated":{"line":1,"column":324}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"event","original":{"line":48,"column":16},"generated":{"line":1,"column":326}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"hover","original":{"line":48,"column":22},"generated":{"line":1,"column":328}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":57,"column":4},"generated":{"line":1,"column":334}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"context","original":{"line":52,"column":4},"generated":{"line":1,"column":337}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"hover","original":{"line":52,"column":12},"generated":{"line":1,"column":339}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"hover","original":{"line":52,"column":20},"generated":{"line":1,"column":345}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"canExecute","original":{"line":54,"column":4},"generated":{"line":1,"column":347}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"context","original":{"line":54,"column":17},"generated":{"line":1,"column":349}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"canExecute","original":{"line":54,"column":25},"generated":{"line":1,"column":351}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"canConnect","original":{"line":54,"column":38},"generated":{"line":1,"column":362}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"start","original":{"line":54,"column":49},"generated":{"line":1,"column":364}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"hover","original":{"line":54,"column":56},"generated":{"line":1,"column":366}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":57,"column":8},"generated":{"line":1,"column":371}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"isNil","original":{"line":57,"column":8},"generated":{"line":1,"column":373}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":57,"column":13},"generated":{"line":1,"column":375}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"canExecute","original":{"line":57,"column":14},"generated":{"line":1,"column":382}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":57,"column":4},"generated":{"line":1,"column":385}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":61,"column":4},"generated":{"line":1,"column":386}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":61,"column":23},"generated":{"line":1,"column":390}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"canExecute","original":{"line":61,"column":8},"generated":{"line":1,"column":394}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":65,"column":6},"generated":{"line":1,"column":396}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"context","original":{"line":62,"column":6},"generated":{"line":1,"column":403}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"source","original":{"line":62,"column":14},"generated":{"line":1,"column":405}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"start","original":{"line":62,"column":23},"generated":{"line":1,"column":412}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"context","original":{"line":63,"column":6},"generated":{"line":1,"column":419}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"target","original":{"line":63,"column":14},"generated":{"line":1,"column":421}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"hover","original":{"line":63,"column":23},"generated":{"line":1,"column":428}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"canExecute","original":{"line":68,"column":4},"generated":{"line":1,"column":431}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"context","original":{"line":68,"column":17},"generated":{"line":1,"column":433}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"canExecute","original":{"line":68,"column":25},"generated":{"line":1,"column":435}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"canConnect","original":{"line":39,"column":11},"generated":{"line":1,"column":446}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"hover","original":{"line":68,"column":63},"generated":{"line":1,"column":448}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"start","original":{"line":68,"column":56},"generated":{"line":1,"column":450}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":71,"column":8},"generated":{"line":1,"column":454}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"isNil","original":{"line":71,"column":8},"generated":{"line":1,"column":456}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":71,"column":13},"generated":{"line":1,"column":458}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"canExecute","original":{"line":71,"column":14},"generated":{"line":1,"column":465}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":75,"column":23},"generated":{"line":1,"column":470}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"canExecute","original":{"line":75,"column":8},"generated":{"line":1,"column":474}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"context","original":{"line":76,"column":6},"generated":{"line":1,"column":478}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"source","original":{"line":76,"column":14},"generated":{"line":1,"column":480}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"hover","original":{"line":76,"column":23},"generated":{"line":1,"column":487}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"context","original":{"line":77,"column":6},"generated":{"line":1,"column":489}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"target","original":{"line":77,"column":14},"generated":{"line":1,"column":491}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"start","original":{"line":77,"column":23},"generated":{"line":1,"column":498}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"eventBus","original":{"line":81,"column":2},"generated":{"line":1,"column":504}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"on","original":{"line":81,"column":11},"generated":{"line":1,"column":506}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":81,"column":14},"generated":{"line":1,"column":509}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":81,"column":16},"generated":{"line":1,"column":510}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":81,"column":31},"generated":{"line":1,"column":524}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":81,"column":52},"generated":{"line":1,"column":543}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"event","original":{"line":81,"column":61},"generated":{"line":1,"column":552}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":82,"column":4},"generated":{"line":1,"column":555}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"context","original":{"line":82,"column":8},"generated":{"line":1,"column":559}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"event","original":{"line":82,"column":18},"generated":{"line":1,"column":561}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"context","original":{"line":82,"column":24},"generated":{"line":1,"column":563}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"context","original":{"line":84,"column":4},"generated":{"line":1,"column":571}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"hover","original":{"line":84,"column":12},"generated":{"line":1,"column":573}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":84,"column":20},"generated":{"line":1,"column":579}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"context","original":{"line":85,"column":4},"generated":{"line":1,"column":584}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"source","original":{"line":85,"column":12},"generated":{"line":1,"column":586}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":85,"column":21},"generated":{"line":1,"column":593}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"context","original":{"line":86,"column":4},"generated":{"line":1,"column":598}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"target","original":{"line":86,"column":12},"generated":{"line":1,"column":600}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":86,"column":21},"generated":{"line":1,"column":607}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"context","original":{"line":88,"column":4},"generated":{"line":1,"column":612}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"canExecute","original":{"line":88,"column":12},"generated":{"line":1,"column":614}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":88,"column":25},"generated":{"line":1,"column":626}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"eventBus","original":{"line":91,"column":2},"generated":{"line":1,"column":630}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"on","original":{"line":91,"column":11},"generated":{"line":1,"column":632}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":91,"column":14},"generated":{"line":1,"column":635}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":91,"column":29},"generated":{"line":1,"column":649}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"event","original":{"line":91,"column":38},"generated":{"line":1,"column":658}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":92,"column":4},"generated":{"line":1,"column":661}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"context","original":{"line":92,"column":8},"generated":{"line":1,"column":665}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"event","original":{"line":92,"column":18},"generated":{"line":1,"column":667}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"context","original":{"line":92,"column":24},"generated":{"line":1,"column":669}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"canExecute","original":{"line":93,"column":8},"generated":{"line":1,"column":677}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"context","original":{"line":93,"column":21},"generated":{"line":1,"column":679}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"canExecute","original":{"line":93,"column":29},"generated":{"line":1,"column":681}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"connectionStart","original":{"line":94,"column":8},"generated":{"line":1,"column":692}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"context","original":{"line":94,"column":26},"generated":{"line":1,"column":694}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"connectionStart","original":{"line":94,"column":34},"generated":{"line":1,"column":696}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"connectionEnd","original":{"line":95,"column":8},"generated":{"line":1,"column":712}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":95,"column":24},"generated":{"line":1,"column":714}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"x","original":{"line":96,"column":10},"generated":{"line":1,"column":715}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"event","original":{"line":96,"column":13},"generated":{"line":1,"column":717}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"x","original":{"line":96,"column":19},"generated":{"line":1,"column":719}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"y","original":{"line":97,"column":10},"generated":{"line":1,"column":721}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"event","original":{"line":97,"column":13},"generated":{"line":1,"column":723}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"y","original":{"line":97,"column":19},"generated":{"line":1,"column":725}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"source","original":{"line":99,"column":8},"generated":{"line":1,"column":728}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"context","original":{"line":99,"column":17},"generated":{"line":1,"column":730}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"source","original":{"line":99,"column":25},"generated":{"line":1,"column":732}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"target","original":{"line":100,"column":8},"generated":{"line":1,"column":739}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"context","original":{"line":100,"column":17},"generated":{"line":1,"column":741}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"target","original":{"line":100,"column":25},"generated":{"line":1,"column":743}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":102,"column":4},"generated":{"line":1,"column":750}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"canExecute","original":{"line":102,"column":9},"generated":{"line":1,"column":754}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":103,"column":6},"generated":{"line":1,"column":756}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":103,"column":13},"generated":{"line":1,"column":763}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":106,"column":4},"generated":{"line":1,"column":765}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"attrs","original":{"line":106,"column":8},"generated":{"line":1,"column":769}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":106,"column":16},"generated":{"line":1,"column":771}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"hints","original":{"line":107,"column":8},"generated":{"line":1,"column":776}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":107,"column":16},"generated":{"line":1,"column":778}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"connectionStart","original":{"line":108,"column":10},"generated":{"line":1,"column":779}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"isReverse","original":{"line":108,"column":27},"generated":{"line":1,"column":795}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"context","original":{"line":108,"column":37},"generated":{"line":1,"column":797}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"connectionEnd","original":{"line":108,"column":48},"generated":{"line":1,"column":800}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"connectionStart","original":{"line":108,"column":64},"generated":{"line":1,"column":802}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"connectionEnd","original":{"line":109,"column":10},"generated":{"line":1,"column":804}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"isReverse","original":{"line":109,"column":25},"generated":{"line":1,"column":818}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"context","original":{"line":109,"column":35},"generated":{"line":1,"column":820}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"connectionStart","original":{"line":109,"column":46},"generated":{"line":1,"column":823}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"connectionEnd","original":{"line":109,"column":64},"generated":{"line":1,"column":825}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":112,"column":8},"generated":{"line":1,"column":829}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"isObject","original":{"line":112,"column":8},"generated":{"line":1,"column":831}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":112,"column":16},"generated":{"line":1,"column":833}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"canExecute","original":{"line":112,"column":17},"generated":{"line":1,"column":843}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"attrs","original":{"line":113,"column":6},"generated":{"line":1,"column":848}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"canExecute","original":{"line":113,"column":14},"generated":{"line":1,"column":850}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"context","original":{"line":116,"column":4},"generated":{"line":1,"column":853}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"connection","original":{"line":116,"column":12},"generated":{"line":1,"column":855}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"modeling","original":{"line":116,"column":25},"generated":{"line":1,"column":866}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"connect","original":{"line":116,"column":34},"generated":{"line":1,"column":868}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"source","original":{"line":116,"column":42},"generated":{"line":1,"column":876}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"target","original":{"line":116,"column":50},"generated":{"line":1,"column":878}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"attrs","original":{"line":116,"column":58},"generated":{"line":1,"column":880}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"hints","original":{"line":116,"column":65},"generated":{"line":1,"column":882}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":130,"column":2},"generated":{"line":1,"column":887}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"start","original":{"line":130,"column":7},"generated":{"line":1,"column":892}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":130,"column":15},"generated":{"line":1,"column":898}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"event","original":{"line":130,"column":24},"generated":{"line":1,"column":907}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"start","original":{"line":130,"column":31},"generated":{"line":1,"column":909}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"connectionStart","original":{"line":130,"column":38},"generated":{"line":1,"column":911}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"autoActivate","original":{"line":130,"column":55},"generated":{"line":1,"column":913}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":131,"column":9},"generated":{"line":1,"column":917}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"isObject","original":{"line":131,"column":9},"generated":{"line":1,"column":919}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":131,"column":17},"generated":{"line":1,"column":921}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"connectionStart","original":{"line":131,"column":18},"generated":{"line":1,"column":931}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"autoActivate","original":{"line":132,"column":6},"generated":{"line":1,"column":936}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"connectionStart","original":{"line":132,"column":21},"generated":{"line":1,"column":938}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"connectionStart","original":{"line":133,"column":6},"generated":{"line":1,"column":940}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":133,"column":24},"generated":{"line":1,"column":943}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"getMid","original":{"line":133,"column":24},"generated":{"line":1,"column":945}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":133,"column":30},"generated":{"line":1,"column":947}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"start","original":{"line":133,"column":31},"generated":{"line":1,"column":955}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"dragging","original":{"line":136,"column":4},"generated":{"line":1,"column":959}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"init","original":{"line":136,"column":13},"generated":{"line":1,"column":961}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"event","original":{"line":136,"column":18},"generated":{"line":1,"column":966}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":136,"column":25},"generated":{"line":1,"column":968}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":136,"column":36},"generated":{"line":1,"column":978}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"autoActivate","original":{"line":137,"column":6},"generated":{"line":1,"column":979}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"autoActivate","original":{"line":137,"column":20},"generated":{"line":1,"column":992}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"data","original":{"line":138,"column":6},"generated":{"line":1,"column":994}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":138,"column":12},"generated":{"line":1,"column":999}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"shape","original":{"line":139,"column":8},"generated":{"line":1,"column":1000}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"start","original":{"line":139,"column":15},"generated":{"line":1,"column":1006}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"context","original":{"line":140,"column":8},"generated":{"line":1,"column":1008}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":140,"column":17},"generated":{"line":1,"column":1016}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"start","original":{"line":141,"column":10},"generated":{"line":1,"column":1017}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"start","original":{"line":141,"column":17},"generated":{"line":1,"column":1023}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"connectionStart","original":{"line":142,"column":10},"generated":{"line":1,"column":1025}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"connectionStart","original":{"line":142,"column":27},"generated":{"line":1,"column":1041}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":159,"column":7},"generated":{"line":1,"column":1048}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"isReverse","original":{"line":159,"column":16},"generated":{"line":1,"column":1057}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"context","original":{"line":159,"column":26},"generated":{"line":1,"column":1059}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":160,"column":2},"generated":{"line":1,"column":1062}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"hover","original":{"line":160,"column":6},"generated":{"line":1,"column":1066}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"context","original":{"line":160,"column":14},"generated":{"line":1,"column":1068}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"hover","original":{"line":160,"column":22},"generated":{"line":1,"column":1070}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"source","original":{"line":161,"column":6},"generated":{"line":1,"column":1076}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"context","original":{"line":161,"column":15},"generated":{"line":1,"column":1078}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"source","original":{"line":161,"column":23},"generated":{"line":1,"column":1080}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"target","original":{"line":162,"column":6},"generated":{"line":1,"column":1087}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"context","original":{"line":162,"column":15},"generated":{"line":1,"column":1089}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"target","original":{"line":162,"column":23},"generated":{"line":1,"column":1091}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":164,"column":2},"generated":{"line":1,"column":1098}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"hover","original":{"line":164,"column":9},"generated":{"line":1,"column":1105}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"source","original":{"line":164,"column":18},"generated":{"line":1,"column":1108}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"hover","original":{"line":164,"column":28},"generated":{"line":1,"column":1111}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"source","original":{"line":164,"column":38},"generated":{"line":1,"column":1115}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"source","original":{"line":164,"column":48},"generated":{"line":1,"column":1118}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"target","original":{"line":164,"column":59},"generated":{"line":1,"column":1122}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"Connect","original":{"line":149,"column":0},"generated":{"line":1,"column":1124}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","name":"$inject","original":{"line":149,"column":8},"generated":{"line":1,"column":1126}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":149,"column":18},"generated":{"line":1,"column":1134}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":150,"column":2},"generated":{"line":1,"column":1135}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":151,"column":2},"generated":{"line":1,"column":1146}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":152,"column":2},"generated":{"line":1,"column":1157}},{"source":"node_modules/diagram-js/lib/features/connect/Connect.js","original":{"line":153,"column":2},"generated":{"line":1,"column":1168}}],"sources":{"node_modules/diagram-js/lib/features/connect/Connect.js":"import {\n  getMid\n} from '../../layout/LayoutUtil';\n\nimport {\n  isNil,\n  isObject\n} from 'min-dash';\n\n/**\n * @typedef {import('../../model').Base} Base\n *\n * @typedef {import('../../util/Types').Point} Point\n *\n * @typedef {import('../dragging/Dragging').default} Dragging\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('../modeling/Modeling').default} Modeling\n * @typedef {import('../rules/Rules').default} Rules\n */\n\n/**\n * @param {EventBus} eventBus\n * @param {Dragging} dragging\n * @param {Modeling} modeling\n * @param {Rules} rules\n */\nexport default function Connect(eventBus, dragging, modeling, rules) {\n\n  // rules\n\n  function canConnect(source, target) {\n    return rules.allowed('connection.create', {\n      source: source,\n      target: target\n    });\n  }\n\n  function canConnectReverse(source, target) {\n    return canConnect(target, source);\n  }\n\n\n  // event handlers\n\n  eventBus.on('connect.hover', function(event) {\n    var context = event.context,\n        start = context.start,\n        hover = event.hover,\n        canExecute;\n\n    // cache hover state\n    context.hover = hover;\n\n    canExecute = context.canExecute = canConnect(start, hover);\n\n    // ignore hover\n    if (isNil(canExecute)) {\n      return;\n    }\n\n    if (canExecute !== false) {\n      context.source = start;\n      context.target = hover;\n\n      return;\n    }\n\n    canExecute = context.canExecute = canConnectReverse(start, hover);\n\n    // ignore hover\n    if (isNil(canExecute)) {\n      return;\n    }\n\n    if (canExecute !== false) {\n      context.source = hover;\n      context.target = start;\n    }\n  });\n\n  eventBus.on([ 'connect.out', 'connect.cleanup' ], function(event) {\n    var context = event.context;\n\n    context.hover = null;\n    context.source = null;\n    context.target = null;\n\n    context.canExecute = false;\n  });\n\n  eventBus.on('connect.end', function(event) {\n    var context = event.context,\n        canExecute = context.canExecute,\n        connectionStart = context.connectionStart,\n        connectionEnd = {\n          x: event.x,\n          y: event.y\n        },\n        source = context.source,\n        target = context.target;\n\n    if (!canExecute) {\n      return false;\n    }\n\n    var attrs = null,\n        hints = {\n          connectionStart: isReverse(context) ? connectionEnd : connectionStart,\n          connectionEnd: isReverse(context) ? connectionStart : connectionEnd\n        };\n\n    if (isObject(canExecute)) {\n      attrs = canExecute;\n    }\n\n    context.connection = modeling.connect(source, target, attrs, hints);\n  });\n\n\n  // API\n\n  /**\n   * Start connect operation.\n   *\n   * @param {MouseEvent|TouchEvent} event\n   * @param {Base} start\n   * @param {Point} [connectionStart]\n   * @param {boolean} [autoActivate=false]\n   */\n  this.start = function(event, start, connectionStart, autoActivate) {\n    if (!isObject(connectionStart)) {\n      autoActivate = connectionStart;\n      connectionStart = getMid(start);\n    }\n\n    dragging.init(event, 'connect', {\n      autoActivate: autoActivate,\n      data: {\n        shape: start,\n        context: {\n          start: start,\n          connectionStart: connectionStart\n        }\n      }\n    });\n  };\n}\n\nConnect.$inject = [\n  'eventBus',\n  'dragging',\n  'modeling',\n  'rules'\n];\n\n\n// helpers //////////\n\nexport function isReverse(context) {\n  var hover = context.hover,\n      source = context.source,\n      target = context.target;\n\n  return hover && source && hover === source && source !== target;\n}"},"lineCount":null}},"error":null,"hash":"7e53883735de055377bc125398c9df3f","cacheData":{"env":{}}}