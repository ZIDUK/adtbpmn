{"id":"v9np","dependencies":[{"name":"/Users/jonathanpardofuentes/Documents/ESPOSO/Master Gerencia en Operaciones Estrtegicas/ADTSimulation/package.json","includedInParent":true,"mtime":1734517847220},{"name":"/Users/jonathanpardofuentes/Documents/ESPOSO/Master Gerencia en Operaciones Estrtegicas/ADTSimulation/node_modules/diagram-js/package.json","includedInParent":true,"mtime":1734550576820},{"name":"min-dash","loc":{"line":4,"column":7,"index":36},"parent":"/Users/jonathanpardofuentes/Documents/ESPOSO/Master Gerencia en Operaciones Estrtegicas/ADTSimulation/node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","resolved":"/Users/jonathanpardofuentes/Documents/ESPOSO/Master Gerencia en Operaciones Estrtegicas/ADTSimulation/node_modules/min-dash/dist/index.esm.js"},{"name":"tiny-svg","loc":{"line":12,"column":7,"index":175},"parent":"/Users/jonathanpardofuentes/Documents/ESPOSO/Master Gerencia en Operaciones Estrtegicas/ADTSimulation/node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","resolved":"/Users/jonathanpardofuentes/Documents/ESPOSO/Master Gerencia en Operaciones Estrtegicas/ADTSimulation/node_modules/tiny-svg/dist/index.esm.js"},{"name":"../../util/Elements","loc":{"line":14,"column":24,"index":212},"parent":"/Users/jonathanpardofuentes/Documents/ESPOSO/Master Gerencia en Operaciones Estrtegicas/ADTSimulation/node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","resolved":"/Users/jonathanpardofuentes/Documents/ESPOSO/Master Gerencia en Operaciones Estrtegicas/ADTSimulation/node_modules/diagram-js/lib/util/Elements.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=a;var e=require(\"min-dash\"),t=require(\"tiny-svg\"),n=require(\"../../util/Elements\"),i=\"hover\",o=\"selected\",c=6;function a(t,n,c){this._canvas=t;var a=this;function l(e,n){t.addMarker(e,n)}function r(e,n){t.removeMarker(e,n)}this._multiSelectionBox=null,n.on(\"element.hover\",function(e){l(e.element,i)}),n.on(\"element.out\",function(e){r(e.element,i)}),n.on(\"selection.changed\",function(t){var n=t.oldSelection,i=t.newSelection;(0,e.forEach)(n,function(e){-1===i.indexOf(e)&&r(e,o)}),(0,e.forEach)(i,function(e){-1===n.indexOf(e)&&l(e,o)}),a._updateSelectionOutline(i)}),n.on(\"element.changed\",function(e){c.isSelected(e.element)&&a._updateSelectionOutline(c.get())})}function l(e){return{x:e.x-c,y:e.y-c,width:e.width+2*c,height:e.height+2*c}}a.$inject=[\"canvas\",\"eventBus\",\"selection\"],a.prototype._updateSelectionOutline=function(i){var o=this._canvas.getLayer(\"selectionOutline\");(0,t.clear)(o);var c=i.length>1,a=this._canvas.getContainer();if((0,t.classes)(a)[c?\"add\":\"remove\"](\"djs-multi-select\"),c){var r=l((0,n.getBBox)(i)),s=(0,t.create)(\"rect\");(0,t.attr)(s,(0,e.assign)({rx:3},r)),(0,t.classes)(s).add(\"djs-selection-outline\"),(0,t.append)(o,s)}};"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":142,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":142,"column":0},"generated":{"line":1,"column":13}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":142,"column":0},"generated":{"line":1,"column":20}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":142,"column":0},"generated":{"line":1,"column":35}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":142,"column":0},"generated":{"line":1,"column":43}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":142,"column":0},"generated":{"line":1,"column":56}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":142,"column":0},"generated":{"line":1,"column":57}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":142,"column":0},"generated":{"line":1,"column":64}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":142,"column":0},"generated":{"line":1,"column":68}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":142,"column":0},"generated":{"line":1,"column":76}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":142,"column":0},"generated":{"line":1,"column":84}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":1,"column":0},"generated":{"line":1,"column":86}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"_minDash","original":{"line":1,"column":0},"generated":{"line":1,"column":90}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"require","original":{"line":1,"column":0},"generated":{"line":1,"column":92}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":1,"column":0},"generated":{"line":1,"column":100}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"_tinySvg","original":{"line":6,"column":0},"generated":{"line":1,"column":112}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"require","original":{"line":6,"column":0},"generated":{"line":1,"column":114}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":6,"column":0},"generated":{"line":1,"column":122}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"_Elements","original":{"line":14,"column":0},"generated":{"line":1,"column":134}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"require","original":{"line":14,"column":0},"generated":{"line":1,"column":136}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":14,"column":0},"generated":{"line":1,"column":144}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"MARKER_HOVER","original":{"line":22,"column":4},"generated":{"line":1,"column":167}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":22,"column":19},"generated":{"line":1,"column":169}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"MARKER_SELECTED","original":{"line":23,"column":4},"generated":{"line":1,"column":177}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":23,"column":22},"generated":{"line":1,"column":179}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"SELECTION_OUTLINE_PADDING","original":{"line":25,"column":4},"generated":{"line":1,"column":190}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":25,"column":32},"generated":{"line":1,"column":192}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":40,"column":15},"generated":{"line":1,"column":194}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"SelectionVisuals","original":{"line":40,"column":24},"generated":{"line":1,"column":203}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"canvas","original":{"line":40,"column":41},"generated":{"line":1,"column":205}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"eventBus","original":{"line":40,"column":49},"generated":{"line":1,"column":207}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"selection","original":{"line":40,"column":59},"generated":{"line":1,"column":209}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":41,"column":2},"generated":{"line":1,"column":212}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"_canvas","original":{"line":41,"column":7},"generated":{"line":1,"column":217}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"canvas","original":{"line":41,"column":17},"generated":{"line":1,"column":225}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":43,"column":2},"generated":{"line":1,"column":227}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"self","original":{"line":43,"column":6},"generated":{"line":1,"column":231}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":43,"column":13},"generated":{"line":1,"column":233}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":47,"column":2},"generated":{"line":1,"column":238}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"addMarker","original":{"line":47,"column":11},"generated":{"line":1,"column":247}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"e","original":{"line":47,"column":21},"generated":{"line":1,"column":249}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"cls","original":{"line":47,"column":24},"generated":{"line":1,"column":251}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"canvas","original":{"line":48,"column":4},"generated":{"line":1,"column":254}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"addMarker","original":{"line":48,"column":11},"generated":{"line":1,"column":256}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"e","original":{"line":48,"column":21},"generated":{"line":1,"column":266}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"cls","original":{"line":48,"column":24},"generated":{"line":1,"column":268}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":51,"column":2},"generated":{"line":1,"column":271}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"removeMarker","original":{"line":51,"column":11},"generated":{"line":1,"column":280}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"e","original":{"line":51,"column":24},"generated":{"line":1,"column":282}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"cls","original":{"line":51,"column":27},"generated":{"line":1,"column":284}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"canvas","original":{"line":52,"column":4},"generated":{"line":1,"column":287}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"removeMarker","original":{"line":52,"column":11},"generated":{"line":1,"column":289}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"e","original":{"line":52,"column":24},"generated":{"line":1,"column":302}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"cls","original":{"line":52,"column":27},"generated":{"line":1,"column":304}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":45,"column":2},"generated":{"line":1,"column":307}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"_multiSelectionBox","original":{"line":45,"column":7},"generated":{"line":1,"column":312}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":45,"column":28},"generated":{"line":1,"column":331}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"eventBus","original":{"line":55,"column":2},"generated":{"line":1,"column":336}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"on","original":{"line":55,"column":11},"generated":{"line":1,"column":338}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":55,"column":14},"generated":{"line":1,"column":341}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":55,"column":31},"generated":{"line":1,"column":357}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"event","original":{"line":55,"column":40},"generated":{"line":1,"column":366}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"addMarker","original":{"line":56,"column":4},"generated":{"line":1,"column":369}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"event","original":{"line":56,"column":14},"generated":{"line":1,"column":371}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"element","original":{"line":56,"column":20},"generated":{"line":1,"column":373}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"MARKER_HOVER","original":{"line":56,"column":29},"generated":{"line":1,"column":381}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"eventBus","original":{"line":59,"column":2},"generated":{"line":1,"column":386}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"on","original":{"line":59,"column":11},"generated":{"line":1,"column":388}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":59,"column":14},"generated":{"line":1,"column":391}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":59,"column":29},"generated":{"line":1,"column":405}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"event","original":{"line":59,"column":38},"generated":{"line":1,"column":414}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"removeMarker","original":{"line":60,"column":4},"generated":{"line":1,"column":417}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"event","original":{"line":60,"column":17},"generated":{"line":1,"column":419}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"element","original":{"line":60,"column":23},"generated":{"line":1,"column":421}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"MARKER_HOVER","original":{"line":60,"column":32},"generated":{"line":1,"column":429}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"eventBus","original":{"line":63,"column":2},"generated":{"line":1,"column":434}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"on","original":{"line":63,"column":11},"generated":{"line":1,"column":436}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":63,"column":14},"generated":{"line":1,"column":439}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":63,"column":35},"generated":{"line":1,"column":459}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"event","original":{"line":63,"column":44},"generated":{"line":1,"column":468}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":73,"column":4},"generated":{"line":1,"column":471}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"oldSelection","original":{"line":73,"column":8},"generated":{"line":1,"column":475}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"event","original":{"line":73,"column":23},"generated":{"line":1,"column":477}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"oldSelection","original":{"line":73,"column":29},"generated":{"line":1,"column":479}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"newSelection","original":{"line":74,"column":8},"generated":{"line":1,"column":492}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"event","original":{"line":74,"column":23},"generated":{"line":1,"column":494}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"newSelection","original":{"line":74,"column":29},"generated":{"line":1,"column":496}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":76,"column":4},"generated":{"line":1,"column":510}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"forEach","original":{"line":76,"column":4},"generated":{"line":1,"column":512}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":76,"column":11},"generated":{"line":1,"column":514}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"oldSelection","original":{"line":76,"column":12},"generated":{"line":1,"column":523}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":76,"column":26},"generated":{"line":1,"column":525}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"e","original":{"line":76,"column":35},"generated":{"line":1,"column":534}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":77,"column":39},"generated":{"line":1,"column":538}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"newSelection","original":{"line":77,"column":10},"generated":{"line":1,"column":542}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"indexOf","original":{"line":77,"column":23},"generated":{"line":1,"column":544}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"e","original":{"line":77,"column":31},"generated":{"line":1,"column":552}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"removeMarker","original":{"line":66,"column":6},"generated":{"line":1,"column":556}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"e","original":{"line":78,"column":17},"generated":{"line":1,"column":558}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"MARKER_SELECTED","original":{"line":66,"column":22},"generated":{"line":1,"column":560}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":82,"column":4},"generated":{"line":1,"column":566}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"forEach","original":{"line":82,"column":4},"generated":{"line":1,"column":568}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":82,"column":11},"generated":{"line":1,"column":570}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"newSelection","original":{"line":82,"column":12},"generated":{"line":1,"column":579}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":82,"column":26},"generated":{"line":1,"column":581}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"e","original":{"line":82,"column":35},"generated":{"line":1,"column":590}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":83,"column":39},"generated":{"line":1,"column":594}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"oldSelection","original":{"line":83,"column":10},"generated":{"line":1,"column":598}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"indexOf","original":{"line":83,"column":23},"generated":{"line":1,"column":600}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"e","original":{"line":83,"column":31},"generated":{"line":1,"column":608}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"addMarker","original":{"line":70,"column":6},"generated":{"line":1,"column":612}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"e","original":{"line":84,"column":15},"generated":{"line":1,"column":614}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"MARKER_SELECTED","original":{"line":70,"column":19},"generated":{"line":1,"column":616}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"self","original":{"line":88,"column":4},"generated":{"line":1,"column":621}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"_updateSelectionOutline","original":{"line":88,"column":9},"generated":{"line":1,"column":623}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"newSelection","original":{"line":88,"column":33},"generated":{"line":1,"column":647}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"eventBus","original":{"line":92,"column":2},"generated":{"line":1,"column":652}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"on","original":{"line":92,"column":11},"generated":{"line":1,"column":654}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":92,"column":14},"generated":{"line":1,"column":657}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":92,"column":33},"generated":{"line":1,"column":675}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"event","original":{"line":92,"column":42},"generated":{"line":1,"column":684}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"selection","original":{"line":93,"column":8},"generated":{"line":1,"column":687}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"isSelected","original":{"line":93,"column":18},"generated":{"line":1,"column":689}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"event","original":{"line":93,"column":29},"generated":{"line":1,"column":700}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"element","original":{"line":93,"column":35},"generated":{"line":1,"column":702}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"self","original":{"line":94,"column":6},"generated":{"line":1,"column":712}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"_updateSelectionOutline","original":{"line":94,"column":11},"generated":{"line":1,"column":714}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"selection","original":{"line":94,"column":35},"generated":{"line":1,"column":738}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"get","original":{"line":94,"column":45},"generated":{"line":1,"column":740}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":135,"column":0},"generated":{"line":1,"column":749}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"addSelectionOutlinePadding","original":{"line":135,"column":9},"generated":{"line":1,"column":758}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"bBox","original":{"line":135,"column":36},"generated":{"line":1,"column":760}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":136,"column":2},"generated":{"line":1,"column":763}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":136,"column":9},"generated":{"line":1,"column":769}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"x","original":{"line":137,"column":4},"generated":{"line":1,"column":770}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"bBox","original":{"line":137,"column":7},"generated":{"line":1,"column":772}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"x","original":{"line":137,"column":12},"generated":{"line":1,"column":774}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"SELECTION_OUTLINE_PADDING","original":{"line":137,"column":16},"generated":{"line":1,"column":776}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"y","original":{"line":138,"column":4},"generated":{"line":1,"column":778}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"bBox","original":{"line":138,"column":7},"generated":{"line":1,"column":780}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"y","original":{"line":138,"column":12},"generated":{"line":1,"column":782}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"SELECTION_OUTLINE_PADDING","original":{"line":138,"column":16},"generated":{"line":1,"column":784}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"width","original":{"line":139,"column":4},"generated":{"line":1,"column":786}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"bBox","original":{"line":139,"column":11},"generated":{"line":1,"column":792}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"width","original":{"line":139,"column":16},"generated":{"line":1,"column":794}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":139,"column":52},"generated":{"line":1,"column":800}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"SELECTION_OUTLINE_PADDING","original":{"line":139,"column":24},"generated":{"line":1,"column":802}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"height","original":{"line":140,"column":4},"generated":{"line":1,"column":804}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"bBox","original":{"line":140,"column":12},"generated":{"line":1,"column":811}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"height","original":{"line":140,"column":17},"generated":{"line":1,"column":813}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":140,"column":54},"generated":{"line":1,"column":820}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"SELECTION_OUTLINE_PADDING","original":{"line":140,"column":26},"generated":{"line":1,"column":822}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"SelectionVisuals","original":{"line":99,"column":0},"generated":{"line":1,"column":825}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"$inject","original":{"line":99,"column":17},"generated":{"line":1,"column":827}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":99,"column":27},"generated":{"line":1,"column":835}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":100,"column":2},"generated":{"line":1,"column":836}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":101,"column":2},"generated":{"line":1,"column":845}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":102,"column":2},"generated":{"line":1,"column":856}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"SelectionVisuals","original":{"line":105,"column":0},"generated":{"line":1,"column":869}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"prototype","original":{"line":105,"column":17},"generated":{"line":1,"column":871}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"_updateSelectionOutline","original":{"line":105,"column":27},"generated":{"line":1,"column":881}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":105,"column":53},"generated":{"line":1,"column":905}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"selection","original":{"line":105,"column":62},"generated":{"line":1,"column":914}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":106,"column":2},"generated":{"line":1,"column":917}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"layer","original":{"line":106,"column":6},"generated":{"line":1,"column":921}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":106,"column":14},"generated":{"line":1,"column":923}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"_canvas","original":{"line":106,"column":19},"generated":{"line":1,"column":928}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"getLayer","original":{"line":106,"column":27},"generated":{"line":1,"column":936}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":106,"column":36},"generated":{"line":1,"column":945}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":108,"column":2},"generated":{"line":1,"column":966}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"svgClear","original":{"line":108,"column":2},"generated":{"line":1,"column":968}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":108,"column":10},"generated":{"line":1,"column":970}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"layer","original":{"line":108,"column":11},"generated":{"line":1,"column":977}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":110,"column":2},"generated":{"line":1,"column":980}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"enabled","original":{"line":110,"column":6},"generated":{"line":1,"column":984}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"selection","original":{"line":110,"column":16},"generated":{"line":1,"column":986}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"length","original":{"line":110,"column":26},"generated":{"line":1,"column":988}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":110,"column":35},"generated":{"line":1,"column":995}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"container","original":{"line":112,"column":6},"generated":{"line":1,"column":997}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":112,"column":18},"generated":{"line":1,"column":999}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"_canvas","original":{"line":112,"column":23},"generated":{"line":1,"column":1004}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"getContainer","original":{"line":112,"column":31},"generated":{"line":1,"column":1012}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":116,"column":2},"generated":{"line":1,"column":1027}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":114,"column":2},"generated":{"line":1,"column":1031}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"svgClasses","original":{"line":114,"column":2},"generated":{"line":1,"column":1033}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":114,"column":12},"generated":{"line":1,"column":1035}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"container","original":{"line":114,"column":13},"generated":{"line":1,"column":1044}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"enabled","original":{"line":114,"column":24},"generated":{"line":1,"column":1047}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":114,"column":34},"generated":{"line":1,"column":1049}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":114,"column":42},"generated":{"line":1,"column":1055}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":114,"column":52},"generated":{"line":1,"column":1065}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"enabled","original":{"line":116,"column":7},"generated":{"line":1,"column":1085}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":116,"column":2},"generated":{"line":1,"column":1087}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":120,"column":2},"generated":{"line":1,"column":1088}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"bBox","original":{"line":120,"column":6},"generated":{"line":1,"column":1092}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"addSelectionOutlinePadding","original":{"line":120,"column":13},"generated":{"line":1,"column":1094}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":120,"column":40},"generated":{"line":1,"column":1097}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"getBBox","original":{"line":120,"column":40},"generated":{"line":1,"column":1099}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":120,"column":47},"generated":{"line":1,"column":1101}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"selection","original":{"line":120,"column":48},"generated":{"line":1,"column":1110}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"rect","original":{"line":122,"column":6},"generated":{"line":1,"column":1114}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":122,"column":13},"generated":{"line":1,"column":1117}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"svgCreate","original":{"line":122,"column":13},"generated":{"line":1,"column":1119}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":122,"column":22},"generated":{"line":1,"column":1121}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":122,"column":23},"generated":{"line":1,"column":1129}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":124,"column":2},"generated":{"line":1,"column":1138}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"svgAttr","original":{"line":124,"column":2},"generated":{"line":1,"column":1140}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":124,"column":9},"generated":{"line":1,"column":1142}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"rect","original":{"line":124,"column":10},"generated":{"line":1,"column":1148}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":124,"column":16},"generated":{"line":1,"column":1151}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"assign","original":{"line":124,"column":16},"generated":{"line":1,"column":1153}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":124,"column":22},"generated":{"line":1,"column":1155}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":124,"column":23},"generated":{"line":1,"column":1163}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"rx","original":{"line":125,"column":4},"generated":{"line":1,"column":1164}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":125,"column":8},"generated":{"line":1,"column":1167}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"bBox","original":{"line":126,"column":5},"generated":{"line":1,"column":1170}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":128,"column":2},"generated":{"line":1,"column":1175}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"svgClasses","original":{"line":128,"column":2},"generated":{"line":1,"column":1177}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":128,"column":12},"generated":{"line":1,"column":1179}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"rect","original":{"line":128,"column":13},"generated":{"line":1,"column":1188}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"add","original":{"line":128,"column":19},"generated":{"line":1,"column":1191}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":128,"column":23},"generated":{"line":1,"column":1195}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":130,"column":2},"generated":{"line":1,"column":1221}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"svgAppend","original":{"line":130,"column":2},"generated":{"line":1,"column":1223}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","original":{"line":130,"column":11},"generated":{"line":1,"column":1225}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"layer","original":{"line":130,"column":12},"generated":{"line":1,"column":1233}},{"source":"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js","name":"rect","original":{"line":130,"column":19},"generated":{"line":1,"column":1235}}],"sources":{"node_modules/diagram-js/lib/features/selection/SelectionVisuals.js":"import {\n  assign,\n  forEach\n} from 'min-dash';\n\nimport {\n  append as svgAppend,\n  attr as svgAttr,\n  classes as svgClasses,\n  clear as svgClear,\n  create as svgCreate\n} from 'tiny-svg';\n\nimport { getBBox } from '../../util/Elements';\n\n/**\n * @typedef {import('../../core/Canvas').default} Canvas\n * @typedef {import('../../core/EventBus').default} EventBus\n * @typedef {import('./Selection').default} Selection\n */\n\nvar MARKER_HOVER = 'hover',\n    MARKER_SELECTED = 'selected';\n\nvar SELECTION_OUTLINE_PADDING = 6;\n\n\n/**\n * A plugin that adds a visible selection UI to shapes and connections\n * by appending the <code>hover</code> and <code>selected</code> classes to them.\n *\n * @class\n *\n * Makes elements selectable, too.\n *\n * @param {Canvas} canvas\n * @param {EventBus} eventBus\n * @param {Selection} selection\n */\nexport default function SelectionVisuals(canvas, eventBus, selection) {\n  this._canvas = canvas;\n\n  var self = this;\n\n  this._multiSelectionBox = null;\n\n  function addMarker(e, cls) {\n    canvas.addMarker(e, cls);\n  }\n\n  function removeMarker(e, cls) {\n    canvas.removeMarker(e, cls);\n  }\n\n  eventBus.on('element.hover', function(event) {\n    addMarker(event.element, MARKER_HOVER);\n  });\n\n  eventBus.on('element.out', function(event) {\n    removeMarker(event.element, MARKER_HOVER);\n  });\n\n  eventBus.on('selection.changed', function(event) {\n\n    function deselect(s) {\n      removeMarker(s, MARKER_SELECTED);\n    }\n\n    function select(s) {\n      addMarker(s, MARKER_SELECTED);\n    }\n\n    var oldSelection = event.oldSelection,\n        newSelection = event.newSelection;\n\n    forEach(oldSelection, function(e) {\n      if (newSelection.indexOf(e) === -1) {\n        deselect(e);\n      }\n    });\n\n    forEach(newSelection, function(e) {\n      if (oldSelection.indexOf(e) === -1) {\n        select(e);\n      }\n    });\n\n    self._updateSelectionOutline(newSelection);\n  });\n\n\n  eventBus.on('element.changed', function(event) {\n    if (selection.isSelected(event.element)) {\n      self._updateSelectionOutline(selection.get());\n    }\n  });\n}\n\nSelectionVisuals.$inject = [\n  'canvas',\n  'eventBus',\n  'selection'\n];\n\nSelectionVisuals.prototype._updateSelectionOutline = function(selection) {\n  var layer = this._canvas.getLayer('selectionOutline');\n\n  svgClear(layer);\n\n  var enabled = selection.length > 1;\n\n  var container = this._canvas.getContainer();\n\n  svgClasses(container)[enabled ? 'add' : 'remove']('djs-multi-select');\n\n  if (!enabled) {\n    return;\n  }\n\n  var bBox = addSelectionOutlinePadding(getBBox(selection));\n\n  var rect = svgCreate('rect');\n\n  svgAttr(rect, assign({\n    rx: 3\n  }, bBox));\n\n  svgClasses(rect).add('djs-selection-outline');\n\n  svgAppend(layer, rect);\n};\n\n// helpers //////////\n\nfunction addSelectionOutlinePadding(bBox) {\n  return {\n    x: bBox.x - SELECTION_OUTLINE_PADDING,\n    y: bBox.y - SELECTION_OUTLINE_PADDING,\n    width: bBox.width + SELECTION_OUTLINE_PADDING * 2,\n    height: bBox.height + SELECTION_OUTLINE_PADDING * 2\n  };\n}"},"lineCount":null}},"error":null,"hash":"df5717cbd78bf1136fe6fe54ee112318","cacheData":{"env":{}}}