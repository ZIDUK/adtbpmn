{"id":"obNo","dependencies":[{"name":"/Users/jonathanpardofuentes/Documents/ESPOSO/Master Gerencia en Operaciones Estrtegicas/ADTSimulation/package.json","includedInParent":true,"mtime":1734553902679},{"name":"/Users/jonathanpardofuentes/Documents/ESPOSO/Master Gerencia en Operaciones Estrtegicas/ADTSimulation/node_modules/bpmn-js/package.json","includedInParent":true,"mtime":1734551985230},{"name":"min-dash","loc":{"line":6,"column":7,"index":61},"parent":"/Users/jonathanpardofuentes/Documents/ESPOSO/Master Gerencia en Operaciones Estrtegicas/ADTSimulation/node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","resolved":"/Users/jonathanpardofuentes/Documents/ESPOSO/Master Gerencia en Operaciones Estrtegicas/ADTSimulation/node_modules/min-dash/dist/index.esm.js"},{"name":"../../../util/ModelUtil","loc":{"line":11,"column":7,"index":112},"parent":"/Users/jonathanpardofuentes/Documents/ESPOSO/Master Gerencia en Operaciones Estrtegicas/ADTSimulation/node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","resolved":"/Users/jonathanpardofuentes/Documents/ESPOSO/Master Gerencia en Operaciones Estrtegicas/ADTSimulation/node_modules/bpmn-js/lib/util/ModelUtil.js"},{"name":"../../../util/LabelUtil","loc":{"line":15,"column":7,"index":170},"parent":"/Users/jonathanpardofuentes/Documents/ESPOSO/Master Gerencia en Operaciones Estrtegicas/ADTSimulation/node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","resolved":"/Users/jonathanpardofuentes/Documents/ESPOSO/Master Gerencia en Operaciones Estrtegicas/ADTSimulation/node_modules/bpmn-js/lib/util/LabelUtil.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=i;var e=require(\"min-dash\"),o=require(\"../../../util/ModelUtil\"),r=require(\"../../../util/LabelUtil\"),t={fill:void 0,stroke:void 0};function i(o){this._commandStack=o,this._normalizeColor=function(o){if(o){if((0,e.isString)(o)){var r=l(o);if(r)return r}throw new Error(\"invalid color value: \"+o)}}}function l(e){var o=document.createElement(\"canvas\").getContext(\"2d\");return o.fillStyle=\"transparent\",o.fillStyle=e,/^#[0-9a-fA-F]{6}$/.test(o.fillStyle)?o.fillStyle:null}function n(e){return!!e.waypoints}function a(e){\"border-color\"in e&&(e.stroke=e[\"border-color\"]),\"background-color\"in e&&(e.fill=e[\"background-color\"])}i.$inject=[\"commandStack\"],i.prototype.postExecute=function(i){var l=i.elements,c=i.colors||t,s=this,d={};\"fill\"in c&&(0,e.assign)(d,{\"background-color\":this._normalizeColor(c.fill)}),\"stroke\"in c&&(0,e.assign)(d,{\"border-color\":this._normalizeColor(c.stroke)}),(0,e.forEach)(l,function(t){var i=n(t)?(0,e.pick)(d,[\"border-color\"]):d,l=(0,o.getDi)(t);if(a(i),(0,r.isLabel)(t))s._commandStack.execute(\"element.updateModdleProperties\",{element:t,moddleElement:l.label,properties:{color:d[\"border-color\"]}});else{if(!(0,o.isAny)(l,[\"bpmndi:BPMNEdge\",\"bpmndi:BPMNShape\"]))return;s._commandStack.execute(\"element.updateProperties\",{element:t,properties:{di:i}})}})};"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":151,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":151,"column":0},"generated":{"line":1,"column":13}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":151,"column":0},"generated":{"line":1,"column":20}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":151,"column":0},"generated":{"line":1,"column":35}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":151,"column":0},"generated":{"line":1,"column":43}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":151,"column":0},"generated":{"line":1,"column":56}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":151,"column":0},"generated":{"line":1,"column":57}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":151,"column":0},"generated":{"line":1,"column":64}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":151,"column":0},"generated":{"line":1,"column":68}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":151,"column":0},"generated":{"line":1,"column":76}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":151,"column":0},"generated":{"line":1,"column":84}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":1,"column":0},"generated":{"line":1,"column":86}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"_minDash","original":{"line":1,"column":0},"generated":{"line":1,"column":90}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"require","original":{"line":1,"column":0},"generated":{"line":1,"column":92}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":1,"column":0},"generated":{"line":1,"column":100}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"_ModelUtil","original":{"line":8,"column":0},"generated":{"line":1,"column":112}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"require","original":{"line":8,"column":0},"generated":{"line":1,"column":114}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":8,"column":0},"generated":{"line":1,"column":122}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"_LabelUtil","original":{"line":13,"column":0},"generated":{"line":1,"column":149}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"require","original":{"line":13,"column":0},"generated":{"line":1,"column":151}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":13,"column":0},"generated":{"line":1,"column":159}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"DEFAULT_COLORS","original":{"line":17,"column":4},"generated":{"line":1,"column":186}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":17,"column":21},"generated":{"line":1,"column":188}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"fill","original":{"line":18,"column":2},"generated":{"line":1,"column":189}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"undefined","original":{"line":18,"column":8},"generated":{"line":1,"column":199}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"stroke","original":{"line":19,"column":2},"generated":{"line":1,"column":201}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"undefined","original":{"line":19,"column":10},"generated":{"line":1,"column":213}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":23,"column":15},"generated":{"line":1,"column":216}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"SetColorHandler","original":{"line":23,"column":24},"generated":{"line":1,"column":225}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"commandStack","original":{"line":23,"column":40},"generated":{"line":1,"column":227}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":24,"column":2},"generated":{"line":1,"column":230}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"_commandStack","original":{"line":24,"column":7},"generated":{"line":1,"column":235}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"commandStack","original":{"line":24,"column":23},"generated":{"line":1,"column":249}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":26,"column":2},"generated":{"line":1,"column":251}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"_normalizeColor","original":{"line":26,"column":7},"generated":{"line":1,"column":256}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":26,"column":25},"generated":{"line":1,"column":272}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"color","original":{"line":26,"column":34},"generated":{"line":1,"column":281}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":29,"column":4},"generated":{"line":1,"column":284}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"color","original":{"line":29,"column":9},"generated":{"line":1,"column":287}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":29,"column":4},"generated":{"line":1,"column":289}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":33,"column":4},"generated":{"line":1,"column":290}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":33,"column":8},"generated":{"line":1,"column":294}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"isString","original":{"line":33,"column":8},"generated":{"line":1,"column":296}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":33,"column":16},"generated":{"line":1,"column":298}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"color","original":{"line":33,"column":17},"generated":{"line":1,"column":308}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":33,"column":25},"generated":{"line":1,"column":311}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":34,"column":6},"generated":{"line":1,"column":312}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"hexColor","original":{"line":34,"column":10},"generated":{"line":1,"column":316}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"colorToHex","original":{"line":34,"column":21},"generated":{"line":1,"column":318}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"color","original":{"line":34,"column":32},"generated":{"line":1,"column":320}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":36,"column":6},"generated":{"line":1,"column":323}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"hexColor","original":{"line":36,"column":10},"generated":{"line":1,"column":326}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":37,"column":8},"generated":{"line":1,"column":328}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"hexColor","original":{"line":37,"column":15},"generated":{"line":1,"column":335}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":41,"column":4},"generated":{"line":1,"column":337}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":41,"column":10},"generated":{"line":1,"column":343}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"Error","original":{"line":41,"column":14},"generated":{"line":1,"column":347}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":41,"column":20},"generated":{"line":1,"column":353}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"color","original":{"line":41,"column":46},"generated":{"line":1,"column":377}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":122,"column":0},"generated":{"line":1,"column":382}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"colorToHex","original":{"line":122,"column":9},"generated":{"line":1,"column":391}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"color","original":{"line":122,"column":20},"generated":{"line":1,"column":393}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":123,"column":2},"generated":{"line":1,"column":396}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"context","original":{"line":123,"column":6},"generated":{"line":1,"column":400}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"document","original":{"line":123,"column":16},"generated":{"line":1,"column":402}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"createElement","original":{"line":123,"column":25},"generated":{"line":1,"column":411}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":123,"column":39},"generated":{"line":1,"column":425}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"getContext","original":{"line":123,"column":49},"generated":{"line":1,"column":435}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":123,"column":60},"generated":{"line":1,"column":446}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":132,"column":2},"generated":{"line":1,"column":452}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"context","original":{"line":126,"column":2},"generated":{"line":1,"column":459}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"fillStyle","original":{"line":126,"column":10},"generated":{"line":1,"column":461}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":126,"column":22},"generated":{"line":1,"column":471}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"context","original":{"line":129,"column":2},"generated":{"line":1,"column":485}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"fillStyle","original":{"line":129,"column":10},"generated":{"line":1,"column":487}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"color","original":{"line":129,"column":22},"generated":{"line":1,"column":497}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":132,"column":9},"generated":{"line":1,"column":499}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"test","original":{"line":132,"column":29},"generated":{"line":1,"column":519}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"context","original":{"line":132,"column":34},"generated":{"line":1,"column":524}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"fillStyle","original":{"line":132,"column":42},"generated":{"line":1,"column":526}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"context","original":{"line":132,"column":55},"generated":{"line":1,"column":537}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"fillStyle","original":{"line":132,"column":63},"generated":{"line":1,"column":539}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":132,"column":75},"generated":{"line":1,"column":549}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":135,"column":0},"generated":{"line":1,"column":554}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"isConnection","original":{"line":135,"column":9},"generated":{"line":1,"column":563}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"element","original":{"line":135,"column":22},"generated":{"line":1,"column":565}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":136,"column":2},"generated":{"line":1,"column":568}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"element","original":{"line":136,"column":11},"generated":{"line":1,"column":576}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"waypoints","original":{"line":136,"column":19},"generated":{"line":1,"column":578}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":143,"column":0},"generated":{"line":1,"column":588}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"ensureLegacySupport","original":{"line":143,"column":9},"generated":{"line":1,"column":597}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"di","original":{"line":143,"column":29},"generated":{"line":1,"column":599}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":144,"column":6},"generated":{"line":1,"column":602}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"di","original":{"line":144,"column":24},"generated":{"line":1,"column":619}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"di","original":{"line":145,"column":4},"generated":{"line":1,"column":623}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"stroke","original":{"line":145,"column":7},"generated":{"line":1,"column":625}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"di","original":{"line":145,"column":16},"generated":{"line":1,"column":632}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":145,"column":19},"generated":{"line":1,"column":634}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":148,"column":6},"generated":{"line":1,"column":651}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"di","original":{"line":148,"column":28},"generated":{"line":1,"column":672}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"di","original":{"line":149,"column":4},"generated":{"line":1,"column":676}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"fill","original":{"line":149,"column":7},"generated":{"line":1,"column":678}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"di","original":{"line":149,"column":14},"generated":{"line":1,"column":683}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":149,"column":17},"generated":{"line":1,"column":685}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"SetColorHandler","original":{"line":45,"column":0},"generated":{"line":1,"column":706}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"$inject","original":{"line":45,"column":16},"generated":{"line":1,"column":708}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":45,"column":26},"generated":{"line":1,"column":716}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":46,"column":2},"generated":{"line":1,"column":717}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"SetColorHandler","original":{"line":50,"column":0},"generated":{"line":1,"column":733}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"prototype","original":{"line":50,"column":16},"generated":{"line":1,"column":735}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"postExecute","original":{"line":50,"column":26},"generated":{"line":1,"column":745}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":50,"column":40},"generated":{"line":1,"column":757}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"context","original":{"line":50,"column":49},"generated":{"line":1,"column":766}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":51,"column":2},"generated":{"line":1,"column":769}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"elements","original":{"line":51,"column":6},"generated":{"line":1,"column":773}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"context","original":{"line":51,"column":17},"generated":{"line":1,"column":775}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"elements","original":{"line":51,"column":25},"generated":{"line":1,"column":777}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"colors","original":{"line":52,"column":6},"generated":{"line":1,"column":786}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"context","original":{"line":52,"column":15},"generated":{"line":1,"column":788}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"colors","original":{"line":52,"column":23},"generated":{"line":1,"column":790}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"DEFAULT_COLORS","original":{"line":52,"column":33},"generated":{"line":1,"column":798}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"self","original":{"line":54,"column":6},"generated":{"line":1,"column":800}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":54,"column":13},"generated":{"line":1,"column":802}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"di","original":{"line":56,"column":6},"generated":{"line":1,"column":807}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":56,"column":11},"generated":{"line":1,"column":809}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":58,"column":6},"generated":{"line":1,"column":812}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"colors","original":{"line":58,"column":16},"generated":{"line":1,"column":821}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":59,"column":4},"generated":{"line":1,"column":825}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"assign","original":{"line":59,"column":4},"generated":{"line":1,"column":827}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":59,"column":10},"generated":{"line":1,"column":829}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"di","original":{"line":59,"column":11},"generated":{"line":1,"column":837}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":59,"column":15},"generated":{"line":1,"column":839}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":60,"column":6},"generated":{"line":1,"column":840}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":60,"column":26},"generated":{"line":1,"column":859}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"_normalizeColor","original":{"line":60,"column":31},"generated":{"line":1,"column":864}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"colors","original":{"line":60,"column":47},"generated":{"line":1,"column":880}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"fill","original":{"line":60,"column":54},"generated":{"line":1,"column":882}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":63,"column":6},"generated":{"line":1,"column":890}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"colors","original":{"line":63,"column":18},"generated":{"line":1,"column":901}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":64,"column":4},"generated":{"line":1,"column":905}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"assign","original":{"line":64,"column":4},"generated":{"line":1,"column":907}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":64,"column":10},"generated":{"line":1,"column":909}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"di","original":{"line":64,"column":11},"generated":{"line":1,"column":917}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":64,"column":15},"generated":{"line":1,"column":919}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":65,"column":6},"generated":{"line":1,"column":920}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":65,"column":22},"generated":{"line":1,"column":935}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"_normalizeColor","original":{"line":65,"column":27},"generated":{"line":1,"column":940}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"colors","original":{"line":65,"column":43},"generated":{"line":1,"column":956}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"stroke","original":{"line":65,"column":50},"generated":{"line":1,"column":958}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":68,"column":2},"generated":{"line":1,"column":969}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"forEach","original":{"line":68,"column":2},"generated":{"line":1,"column":971}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":68,"column":9},"generated":{"line":1,"column":973}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"elements","original":{"line":68,"column":10},"generated":{"line":1,"column":982}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":68,"column":20},"generated":{"line":1,"column":984}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"element","original":{"line":68,"column":29},"generated":{"line":1,"column":993}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":69,"column":4},"generated":{"line":1,"column":996}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"assignedDi","original":{"line":69,"column":8},"generated":{"line":1,"column":1000}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"isConnection","original":{"line":69,"column":21},"generated":{"line":1,"column":1002}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"element","original":{"line":69,"column":34},"generated":{"line":1,"column":1004}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":69,"column":45},"generated":{"line":1,"column":1008}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"pick","original":{"line":69,"column":45},"generated":{"line":1,"column":1010}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":69,"column":49},"generated":{"line":1,"column":1012}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"di","original":{"line":69,"column":50},"generated":{"line":1,"column":1018}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":69,"column":54},"generated":{"line":1,"column":1020}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":69,"column":56},"generated":{"line":1,"column":1021}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"di","original":{"line":69,"column":76},"generated":{"line":1,"column":1038}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"elementDi","original":{"line":70,"column":8},"generated":{"line":1,"column":1040}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":70,"column":20},"generated":{"line":1,"column":1043}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"getDi","original":{"line":70,"column":20},"generated":{"line":1,"column":1045}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":70,"column":25},"generated":{"line":1,"column":1047}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"element","original":{"line":70,"column":26},"generated":{"line":1,"column":1054}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":75,"column":4},"generated":{"line":1,"column":1057}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"ensureLegacySupport","original":{"line":73,"column":4},"generated":{"line":1,"column":1060}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"assignedDi","original":{"line":73,"column":24},"generated":{"line":1,"column":1062}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":75,"column":8},"generated":{"line":1,"column":1066}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"isLabel","original":{"line":75,"column":8},"generated":{"line":1,"column":1068}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":75,"column":15},"generated":{"line":1,"column":1070}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"element","original":{"line":75,"column":16},"generated":{"line":1,"column":1079}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"self","original":{"line":78,"column":6},"generated":{"line":1,"column":1082}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"_commandStack","original":{"line":78,"column":11},"generated":{"line":1,"column":1084}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"execute","original":{"line":78,"column":25},"generated":{"line":1,"column":1098}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":78,"column":33},"generated":{"line":1,"column":1106}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":78,"column":67},"generated":{"line":1,"column":1139}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"element","original":{"line":79,"column":8},"generated":{"line":1,"column":1140}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"element","original":{"line":79,"column":17},"generated":{"line":1,"column":1148}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"moddleElement","original":{"line":80,"column":8},"generated":{"line":1,"column":1150}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"elementDi","original":{"line":80,"column":23},"generated":{"line":1,"column":1164}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"label","original":{"line":80,"column":33},"generated":{"line":1,"column":1166}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"properties","original":{"line":81,"column":8},"generated":{"line":1,"column":1172}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":81,"column":20},"generated":{"line":1,"column":1183}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"color","original":{"line":82,"column":10},"generated":{"line":1,"column":1184}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"di","original":{"line":82,"column":17},"generated":{"line":1,"column":1190}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":82,"column":20},"generated":{"line":1,"column":1192}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":85,"column":11},"generated":{"line":1,"column":1215}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":88,"column":6},"generated":{"line":1,"column":1216}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":88,"column":11},"generated":{"line":1,"column":1221}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"isAny","original":{"line":88,"column":11},"generated":{"line":1,"column":1223}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":88,"column":16},"generated":{"line":1,"column":1225}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"elementDi","original":{"line":88,"column":17},"generated":{"line":1,"column":1232}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":88,"column":28},"generated":{"line":1,"column":1234}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":88,"column":30},"generated":{"line":1,"column":1235}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":88,"column":49},"generated":{"line":1,"column":1253}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":89,"column":8},"generated":{"line":1,"column":1274}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"self","original":{"line":93,"column":6},"generated":{"line":1,"column":1281}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"_commandStack","original":{"line":93,"column":11},"generated":{"line":1,"column":1283}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"execute","original":{"line":93,"column":25},"generated":{"line":1,"column":1297}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":93,"column":33},"generated":{"line":1,"column":1305}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":93,"column":61},"generated":{"line":1,"column":1332}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"element","original":{"line":94,"column":8},"generated":{"line":1,"column":1333}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"element","original":{"line":94,"column":17},"generated":{"line":1,"column":1341}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"properties","original":{"line":95,"column":8},"generated":{"line":1,"column":1343}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","original":{"line":95,"column":20},"generated":{"line":1,"column":1354}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"di","original":{"line":96,"column":10},"generated":{"line":1,"column":1355}},{"source":"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js","name":"assignedDi","original":{"line":96,"column":14},"generated":{"line":1,"column":1358}}],"sources":{"node_modules/bpmn-js/lib/features/modeling/cmd/SetColorHandler.js":"import {\r\n  assign,\r\n  forEach,\r\n  isString,\r\n  pick\r\n} from 'min-dash';\r\n\r\nimport {\r\n  getDi,\r\n  isAny\r\n} from '../../../util/ModelUtil';\r\n\r\nimport {\r\n  isLabel\r\n} from '../../../util/LabelUtil';\r\n\r\nvar DEFAULT_COLORS = {\r\n  fill: undefined,\r\n  stroke: undefined\r\n};\r\n\r\n\r\nexport default function SetColorHandler(commandStack) {\r\n  this._commandStack = commandStack;\r\n\r\n  this._normalizeColor = function(color) {\r\n\r\n    // Remove color for falsy values.\r\n    if (!color) {\r\n      return undefined;\r\n    }\r\n\r\n    if (isString(color)) {\r\n      var hexColor = colorToHex(color);\r\n\r\n      if (hexColor) {\r\n        return hexColor;\r\n      }\r\n    }\r\n\r\n    throw new Error('invalid color value: ' + color);\r\n  };\r\n}\r\n\r\nSetColorHandler.$inject = [\r\n  'commandStack'\r\n];\r\n\r\n\r\nSetColorHandler.prototype.postExecute = function(context) {\r\n  var elements = context.elements,\r\n      colors = context.colors || DEFAULT_COLORS;\r\n\r\n  var self = this;\r\n\r\n  var di = {};\r\n\r\n  if ('fill' in colors) {\r\n    assign(di, {\r\n      'background-color': this._normalizeColor(colors.fill) });\r\n  }\r\n\r\n  if ('stroke' in colors) {\r\n    assign(di, {\r\n      'border-color': this._normalizeColor(colors.stroke) });\r\n  }\r\n\r\n  forEach(elements, function(element) {\r\n    var assignedDi = isConnection(element) ? pick(di, [ 'border-color' ]) : di,\r\n        elementDi = getDi(element);\r\n\r\n    // TODO @barmac: remove once we drop bpmn.io properties\r\n    ensureLegacySupport(assignedDi);\r\n\r\n    if (isLabel(element)) {\r\n\r\n      // set label colors as bpmndi:BPMNLabel#color\r\n      self._commandStack.execute('element.updateModdleProperties', {\r\n        element: element,\r\n        moddleElement: elementDi.label,\r\n        properties: {\r\n          color: di['border-color']\r\n        }\r\n      });\r\n    } else {\r\n\r\n      // ignore non-compliant di\r\n      if (!isAny(elementDi, [ 'bpmndi:BPMNEdge', 'bpmndi:BPMNShape' ])) {\r\n        return;\r\n      }\r\n\r\n      // set colors bpmndi:BPMNEdge or bpmndi:BPMNShape\r\n      self._commandStack.execute('element.updateProperties', {\r\n        element: element,\r\n        properties: {\r\n          di: assignedDi\r\n        }\r\n      });\r\n    }\r\n  });\r\n\r\n};\r\n\r\n/**\r\n * Convert color from rgb(a)/hsl to hex. Returns `null` for unknown color names and for colors\r\n * with alpha less than 1.0. This depends on `<canvas>` serialization of the `context.fillStyle`.\r\n * Cf. https://html.spec.whatwg.org/multipage/canvas.html#dom-context-2d-fillstyle\r\n *\r\n * @example\r\n * ```js\r\n * var color = 'fuchsia';\r\n * console.log(colorToHex(color));\r\n * // \"#ff00ff\"\r\n * color = 'rgba(1,2,3,0.4)';\r\n * console.log(colorToHex(color));\r\n * // null\r\n * ```\r\n *\r\n * @param {string} color\r\n * @returns {string|null}\r\n */\r\nfunction colorToHex(color) {\r\n  var context = document.createElement('canvas').getContext('2d');\r\n\r\n  // (0) Start with transparent to account for browser default values.\r\n  context.fillStyle = 'transparent';\r\n\r\n  // (1) Assign color so that it's serialized.\r\n  context.fillStyle = color;\r\n\r\n  // (2) Return null for non-hex serialization result.\r\n  return /^#[0-9a-fA-F]{6}$/.test(context.fillStyle) ? context.fillStyle : null;\r\n}\r\n\r\nfunction isConnection(element) {\r\n  return !!element.waypoints;\r\n}\r\n\r\n/**\r\n * Add legacy properties if required.\r\n * @param {{ 'border-color': string?, 'background-color': string? }} di\r\n */\r\nfunction ensureLegacySupport(di) {\r\n  if ('border-color' in di) {\r\n    di.stroke = di['border-color'];\r\n  }\r\n\r\n  if ('background-color' in di) {\r\n    di.fill = di['background-color'];\r\n  }\r\n}\r\n"},"lineCount":null}},"error":null,"hash":"c38803d3c9762a8796ec586c91988bf7","cacheData":{"env":{}}}