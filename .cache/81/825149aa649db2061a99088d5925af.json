{"id":"IxYW","dependencies":[{"name":"/Users/jonathanpardofuentes/Documents/ESPOSO/Master Gerencia en Operaciones Estrtegicas/ADTSimulation/package.json","includedInParent":true,"mtime":1734517847220},{"name":"/Users/jonathanpardofuentes/Documents/ESPOSO/Master Gerencia en Operaciones Estrtegicas/ADTSimulation/node_modules/bpmn-js-token-simulation/package.json","includedInParent":true,"mtime":1734550576563},{"name":"../../util/EventHelper","loc":{"line":7,"column":7,"index":139},"parent":"/Users/jonathanpardofuentes/Documents/ESPOSO/Master Gerencia en Operaciones Estrtegicas/ADTSimulation/node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","resolved":"/Users/jonathanpardofuentes/Documents/ESPOSO/Master Gerencia en Operaciones Estrtegicas/ADTSimulation/node_modules/bpmn-js-token-simulation/lib/util/EventHelper.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=i;var t=require(\"../../util/EventHelper\");const e=t=>!0;function i(i,o){this._eventBus=i,this._simulator=o,this._filter=e,i.on([t.TOGGLE_MODE_EVENT,t.RESET_SIMULATION_EVENT],()=>{this._filter=e}),i.on(t.SCOPE_DESTROYED_EVENT,t=>{const{scope:e}=t;this._scope===e&&e.parent&&this.toggle(e.parent)}),i.on(t.SCOPE_CREATE_EVENT,t=>{const{scope:e}=t;e.parent||!this._scope||s(this._scope,e)||this.toggle(null)})}function s(t,e){do{if(t===e)return!0}while(e=e.parent);return!1}i.prototype.toggle=function(e){const i=this._scope!==e;this._scope=i?e:null,this._filter=this._scope?t=>s(this._scope,t):t=>!0,this._eventBus.fire(t.SCOPE_FILTER_CHANGED_EVENT,{filter:this._filter,scope:this._scope})},i.prototype.isShown=function(t){return\"string\"==typeof t&&(t=this._simulator.findScope(e=>e.id===t)),t&&this._filter(t)},i.prototype.findScope=function(t){return this._simulator.findScopes(t).filter(t=>this.isShown(t))[0]},i.$inject=[\"eventBus\",\"simulator\"];"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":98,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":98,"column":0},"generated":{"line":1,"column":13}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":98,"column":0},"generated":{"line":1,"column":20}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":98,"column":0},"generated":{"line":1,"column":35}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":98,"column":0},"generated":{"line":1,"column":43}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":98,"column":0},"generated":{"line":1,"column":56}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":98,"column":0},"generated":{"line":1,"column":57}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":98,"column":0},"generated":{"line":1,"column":64}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":98,"column":0},"generated":{"line":1,"column":68}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":98,"column":0},"generated":{"line":1,"column":76}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":98,"column":0},"generated":{"line":1,"column":84}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":1,"column":0},"generated":{"line":1,"column":86}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"_EventHelper","original":{"line":1,"column":0},"generated":{"line":1,"column":90}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"require","original":{"line":1,"column":0},"generated":{"line":1,"column":92}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":1,"column":0},"generated":{"line":1,"column":100}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":9,"column":0},"generated":{"line":1,"column":126}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"DEFAULT_SCOPE_FILTER","original":{"line":9,"column":6},"generated":{"line":1,"column":132}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"s","original":{"line":9,"column":30},"generated":{"line":1,"column":134}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":9,"column":36},"generated":{"line":1,"column":138}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":12,"column":15},"generated":{"line":1,"column":140}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"ScopeFilter","original":{"line":12,"column":24},"generated":{"line":1,"column":149}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"eventBus","original":{"line":12,"column":36},"generated":{"line":1,"column":151}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"simulator","original":{"line":12,"column":46},"generated":{"line":1,"column":153}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":13,"column":2},"generated":{"line":1,"column":156}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"_eventBus","original":{"line":13,"column":7},"generated":{"line":1,"column":161}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"eventBus","original":{"line":13,"column":19},"generated":{"line":1,"column":171}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":14,"column":2},"generated":{"line":1,"column":173}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"_simulator","original":{"line":14,"column":7},"generated":{"line":1,"column":178}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"simulator","original":{"line":14,"column":20},"generated":{"line":1,"column":189}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":16,"column":2},"generated":{"line":1,"column":191}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"_filter","original":{"line":16,"column":7},"generated":{"line":1,"column":196}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"DEFAULT_SCOPE_FILTER","original":{"line":16,"column":17},"generated":{"line":1,"column":204}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"eventBus","original":{"line":18,"column":2},"generated":{"line":1,"column":206}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"on","original":{"line":18,"column":11},"generated":{"line":1,"column":208}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":18,"column":14},"generated":{"line":1,"column":211}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"TOGGLE_MODE_EVENT","original":{"line":19,"column":4},"generated":{"line":1,"column":212}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":19,"column":21},"generated":{"line":1,"column":214}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"RESET_SIMULATION_EVENT","original":{"line":20,"column":4},"generated":{"line":1,"column":232}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":20,"column":26},"generated":{"line":1,"column":234}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":21,"column":5},"generated":{"line":1,"column":258}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":22,"column":4},"generated":{"line":1,"column":263}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"_filter","original":{"line":22,"column":9},"generated":{"line":1,"column":268}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"DEFAULT_SCOPE_FILTER","original":{"line":22,"column":19},"generated":{"line":1,"column":276}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"eventBus","original":{"line":25,"column":2},"generated":{"line":1,"column":280}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"on","original":{"line":25,"column":11},"generated":{"line":1,"column":282}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"SCOPE_DESTROYED_EVENT","original":{"line":25,"column":14},"generated":{"line":1,"column":285}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":25,"column":35},"generated":{"line":1,"column":287}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"event","original":{"line":25,"column":37},"generated":{"line":1,"column":309}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":27,"column":4},"generated":{"line":1,"column":313}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":27,"column":10},"generated":{"line":1,"column":319}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"scope","original":{"line":28,"column":6},"generated":{"line":1,"column":325}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"event","original":{"line":29,"column":8},"generated":{"line":1,"column":328}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":34,"column":8},"generated":{"line":1,"column":330}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"_scope","original":{"line":34,"column":13},"generated":{"line":1,"column":335}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"scope","original":{"line":34,"column":24},"generated":{"line":1,"column":344}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"scope","original":{"line":34,"column":33},"generated":{"line":1,"column":347}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"parent","original":{"line":34,"column":39},"generated":{"line":1,"column":349}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":35,"column":6},"generated":{"line":1,"column":357}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"toggle","original":{"line":35,"column":11},"generated":{"line":1,"column":362}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"scope","original":{"line":35,"column":18},"generated":{"line":1,"column":369}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"parent","original":{"line":35,"column":24},"generated":{"line":1,"column":371}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"eventBus","original":{"line":40,"column":2},"generated":{"line":1,"column":381}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"on","original":{"line":40,"column":11},"generated":{"line":1,"column":383}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"SCOPE_CREATE_EVENT","original":{"line":40,"column":14},"generated":{"line":1,"column":386}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":40,"column":32},"generated":{"line":1,"column":388}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"event","original":{"line":40,"column":34},"generated":{"line":1,"column":407}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":42,"column":4},"generated":{"line":1,"column":411}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":42,"column":10},"generated":{"line":1,"column":417}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"scope","original":{"line":43,"column":6},"generated":{"line":1,"column":423}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"event","original":{"line":44,"column":8},"generated":{"line":1,"column":426}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"scope","original":{"line":49,"column":9},"generated":{"line":1,"column":428}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"parent","original":{"line":49,"column":15},"generated":{"line":1,"column":430}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":49,"column":25},"generated":{"line":1,"column":439}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"_scope","original":{"line":49,"column":30},"generated":{"line":1,"column":444}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"isAncestor","original":{"line":49,"column":41},"generated":{"line":1,"column":452}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":49,"column":52},"generated":{"line":1,"column":454}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"_scope","original":{"line":49,"column":57},"generated":{"line":1,"column":459}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"scope","original":{"line":49,"column":65},"generated":{"line":1,"column":466}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":50,"column":6},"generated":{"line":1,"column":470}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"toggle","original":{"line":50,"column":11},"generated":{"line":1,"column":475}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":50,"column":18},"generated":{"line":1,"column":482}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":90,"column":0},"generated":{"line":1,"column":490}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"isAncestor","original":{"line":90,"column":9},"generated":{"line":1,"column":499}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"parent","original":{"line":90,"column":20},"generated":{"line":1,"column":501}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"scope","original":{"line":90,"column":28},"generated":{"line":1,"column":503}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":91,"column":2},"generated":{"line":1,"column":506}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":92,"column":4},"generated":{"line":1,"column":509}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"parent","original":{"line":92,"column":8},"generated":{"line":1,"column":512}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"scope","original":{"line":92,"column":19},"generated":{"line":1,"column":516}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":93,"column":6},"generated":{"line":1,"column":518}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":93,"column":13},"generated":{"line":1,"column":525}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"scope","original":{"line":95,"column":12},"generated":{"line":1,"column":533}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"scope","original":{"line":95,"column":20},"generated":{"line":1,"column":535}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"parent","original":{"line":95,"column":26},"generated":{"line":1,"column":537}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":97,"column":2},"generated":{"line":1,"column":545}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":97,"column":9},"generated":{"line":1,"column":552}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"ScopeFilter","original":{"line":55,"column":0},"generated":{"line":1,"column":554}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"prototype","original":{"line":55,"column":12},"generated":{"line":1,"column":556}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"toggle","original":{"line":55,"column":22},"generated":{"line":1,"column":566}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":55,"column":31},"generated":{"line":1,"column":573}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"scope","original":{"line":55,"column":40},"generated":{"line":1,"column":582}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":57,"column":2},"generated":{"line":1,"column":585}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"setFilter","original":{"line":57,"column":8},"generated":{"line":1,"column":591}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":57,"column":20},"generated":{"line":1,"column":593}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"_scope","original":{"line":57,"column":25},"generated":{"line":1,"column":598}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"scope","original":{"line":57,"column":36},"generated":{"line":1,"column":607}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":59,"column":2},"generated":{"line":1,"column":609}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"_scope","original":{"line":59,"column":7},"generated":{"line":1,"column":614}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"setFilter","original":{"line":59,"column":16},"generated":{"line":1,"column":621}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"scope","original":{"line":59,"column":28},"generated":{"line":1,"column":623}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":59,"column":36},"generated":{"line":1,"column":625}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":61,"column":2},"generated":{"line":1,"column":630}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"_filter","original":{"line":61,"column":7},"generated":{"line":1,"column":635}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":62,"column":4},"generated":{"line":1,"column":643}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"_scope","original":{"line":62,"column":9},"generated":{"line":1,"column":648}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"s","original":{"line":63,"column":8},"generated":{"line":1,"column":655}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"isAncestor","original":{"line":63,"column":13},"generated":{"line":1,"column":658}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":63,"column":24},"generated":{"line":1,"column":660}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"_scope","original":{"line":63,"column":29},"generated":{"line":1,"column":665}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"s","original":{"line":63,"column":37},"generated":{"line":1,"column":672}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"s","original":{"line":64,"column":8},"generated":{"line":1,"column":675}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":64,"column":13},"generated":{"line":1,"column":679}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":66,"column":2},"generated":{"line":1,"column":681}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"_eventBus","original":{"line":66,"column":7},"generated":{"line":1,"column":686}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"fire","original":{"line":66,"column":17},"generated":{"line":1,"column":696}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"SCOPE_FILTER_CHANGED_EVENT","original":{"line":66,"column":22},"generated":{"line":1,"column":701}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":66,"column":48},"generated":{"line":1,"column":703}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":66,"column":50},"generated":{"line":1,"column":730}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"filter","original":{"line":67,"column":4},"generated":{"line":1,"column":731}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":67,"column":12},"generated":{"line":1,"column":738}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"_filter","original":{"line":67,"column":17},"generated":{"line":1,"column":743}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"scope","original":{"line":68,"column":4},"generated":{"line":1,"column":751}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":68,"column":11},"generated":{"line":1,"column":757}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"_scope","original":{"line":68,"column":16},"generated":{"line":1,"column":762}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"ScopeFilter","original":{"line":72,"column":0},"generated":{"line":1,"column":772}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"prototype","original":{"line":72,"column":12},"generated":{"line":1,"column":774}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"isShown","original":{"line":72,"column":22},"generated":{"line":1,"column":784}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":72,"column":32},"generated":{"line":1,"column":792}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"scope","original":{"line":72,"column":41},"generated":{"line":1,"column":801}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":78,"column":2},"generated":{"line":1,"column":804}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":74,"column":23},"generated":{"line":1,"column":810}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"scope","original":{"line":74,"column":13},"generated":{"line":1,"column":827}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"scope","original":{"line":75,"column":4},"generated":{"line":1,"column":831}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":75,"column":12},"generated":{"line":1,"column":833}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"_simulator","original":{"line":75,"column":17},"generated":{"line":1,"column":838}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"findScope","original":{"line":75,"column":28},"generated":{"line":1,"column":849}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"s","original":{"line":75,"column":38},"generated":{"line":1,"column":859}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"s","original":{"line":75,"column":43},"generated":{"line":1,"column":862}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"id","original":{"line":75,"column":45},"generated":{"line":1,"column":864}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"scope","original":{"line":75,"column":52},"generated":{"line":1,"column":869}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"scope","original":{"line":78,"column":9},"generated":{"line":1,"column":873}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":78,"column":18},"generated":{"line":1,"column":876}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"_filter","original":{"line":78,"column":23},"generated":{"line":1,"column":881}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"scope","original":{"line":78,"column":31},"generated":{"line":1,"column":889}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"ScopeFilter","original":{"line":81,"column":0},"generated":{"line":1,"column":893}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"prototype","original":{"line":81,"column":12},"generated":{"line":1,"column":895}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"findScope","original":{"line":81,"column":22},"generated":{"line":1,"column":905}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":81,"column":34},"generated":{"line":1,"column":915}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"options","original":{"line":81,"column":43},"generated":{"line":1,"column":924}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":82,"column":2},"generated":{"line":1,"column":927}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":82,"column":9},"generated":{"line":1,"column":934}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"_simulator","original":{"line":82,"column":14},"generated":{"line":1,"column":939}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"findScopes","original":{"line":82,"column":25},"generated":{"line":1,"column":950}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"options","original":{"line":82,"column":36},"generated":{"line":1,"column":961}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"filter","original":{"line":82,"column":45},"generated":{"line":1,"column":964}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"s","original":{"line":82,"column":52},"generated":{"line":1,"column":971}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":82,"column":57},"generated":{"line":1,"column":974}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"isShown","original":{"line":82,"column":62},"generated":{"line":1,"column":979}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"s","original":{"line":82,"column":70},"generated":{"line":1,"column":987}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":82,"column":74},"generated":{"line":1,"column":991}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"ScopeFilter","original":{"line":85,"column":0},"generated":{"line":1,"column":995}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","name":"$inject","original":{"line":85,"column":12},"generated":{"line":1,"column":997}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":85,"column":22},"generated":{"line":1,"column":1005}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":86,"column":2},"generated":{"line":1,"column":1006}},{"source":"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js","original":{"line":87,"column":2},"generated":{"line":1,"column":1017}}],"sources":{"node_modules/bpmn-js-token-simulation/lib/features/scope-filter/ScopeFilter.js":"import {\n  SCOPE_FILTER_CHANGED_EVENT,\n  TOGGLE_MODE_EVENT,\n  RESET_SIMULATION_EVENT,\n  SCOPE_CREATE_EVENT,\n  SCOPE_DESTROYED_EVENT\n} from '../../util/EventHelper';\n\nconst DEFAULT_SCOPE_FILTER = (s) => true;\n\n\nexport default function ScopeFilter(eventBus, simulator) {\n  this._eventBus = eventBus;\n  this._simulator = simulator;\n\n  this._filter = DEFAULT_SCOPE_FILTER;\n\n  eventBus.on([\n    TOGGLE_MODE_EVENT,\n    RESET_SIMULATION_EVENT\n  ], () => {\n    this._filter = DEFAULT_SCOPE_FILTER;\n  });\n\n  eventBus.on(SCOPE_DESTROYED_EVENT, event => {\n\n    const {\n      scope\n    } = event;\n\n    // if we're currently filtering, ensure newly\n    // created instance is shown\n\n    if (this._scope === scope && scope.parent) {\n      this.toggle(scope.parent);\n    }\n  });\n\n\n  eventBus.on(SCOPE_CREATE_EVENT, event => {\n\n    const {\n      scope\n    } = event;\n\n    // if we're currently filtering, ensure newly\n    // created instance is shown\n\n    if (!scope.parent && this._scope && !isAncestor(this._scope, scope)) {\n      this.toggle(null);\n    }\n  });\n}\n\nScopeFilter.prototype.toggle = function(scope) {\n\n  const setFilter = this._scope !== scope;\n\n  this._scope = setFilter ? scope : null;\n\n  this._filter =\n    this._scope\n      ? s => isAncestor(this._scope, s)\n      : s => true;\n\n  this._eventBus.fire(SCOPE_FILTER_CHANGED_EVENT, {\n    filter: this._filter,\n    scope: this._scope\n  });\n};\n\nScopeFilter.prototype.isShown = function(scope) {\n\n  if (typeof scope === 'string') {\n    scope = this._simulator.findScope(s => s.id === scope);\n  }\n\n  return scope && this._filter(scope);\n};\n\nScopeFilter.prototype.findScope = function(options) {\n  return this._simulator.findScopes(options).filter(s => this.isShown(s))[0];\n};\n\nScopeFilter.$inject = [\n  'eventBus',\n  'simulator'\n];\n\nfunction isAncestor(parent, scope) {\n  do {\n    if (parent === scope) {\n      return true;\n    }\n  } while ((scope = scope.parent));\n\n  return false;\n}"},"lineCount":null}},"error":null,"hash":"121bcb0e0f54c47f280f496c58ddeae6","cacheData":{"env":{}}}