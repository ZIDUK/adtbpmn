{"id":"pVlV","dependencies":[{"name":"/Users/jonathanpardofuentes/Documents/ESPOSO/Master Gerencia en Operaciones Estrtegicas/ADTSimulation/package.json","includedInParent":true,"mtime":1734554305095},{"name":"/Users/jonathanpardofuentes/Documents/ESPOSO/Master Gerencia en Operaciones Estrtegicas/ADTSimulation/node_modules/diagram-js/package.json","includedInParent":true,"mtime":1734551985151},{"name":"min-dom","loc":{"line":3,"column":7,"index":40},"parent":"/Users/jonathanpardofuentes/Documents/ESPOSO/Master Gerencia en Operaciones Estrtegicas/ADTSimulation/node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","resolved":"/Users/jonathanpardofuentes/Documents/ESPOSO/Master Gerencia en Operaciones Estrtegicas/ADTSimulation/node_modules/min-dom/dist/index.esm.js"},{"name":"../../util/Event","loc":{"line":7,"column":7,"index":78},"parent":"/Users/jonathanpardofuentes/Documents/ESPOSO/Master Gerencia en Operaciones Estrtegicas/ADTSimulation/node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","resolved":"/Users/jonathanpardofuentes/Documents/ESPOSO/Master Gerencia en Operaciones Estrtegicas/ADTSimulation/node_modules/diagram-js/lib/util/Event.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=o;var e=require(\"min-dom\"),n=require(\"../../util/Event\"),t=1500;function o(e,o,i){var u,f,l=this,c=i.get(\"dragging\",!1);c&&o.on(\"drag.start\",function(n){o.once(\"drag.move\",t,function(n){!function(n){if(!n.hover){var t=n.originalEvent,o=l._findTargetGfx(t),r=o&&e.get(o);o&&r&&(n.stopPropagation(),c.hover({element:r,gfx:o}),c.move(t))}}(n)})}),o.on(\"element.hover\",function(e){u=e.gfx,f=e.element}),o.on(\"element.hover\",t,function(e){f&&o.fire(\"element.out\",{element:f,gfx:u})}),o.on(\"element.out\",function(){u=null,f=null}),this._findTargetGfx=function(e){var t;if(e instanceof MouseEvent)return t=(0,n.toPoint)(e),r(document.elementFromPoint(t.x,t.y))}}function r(n){return(0,e.closest)(n,\"svg, .djs-element\",!0)}o.$inject=[\"elementRegistry\",\"eventBus\",\"injector\"];"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","original":{"line":167,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","original":{"line":167,"column":0},"generated":{"line":1,"column":13}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","original":{"line":167,"column":0},"generated":{"line":1,"column":20}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","original":{"line":167,"column":0},"generated":{"line":1,"column":35}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","original":{"line":167,"column":0},"generated":{"line":1,"column":43}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","original":{"line":167,"column":0},"generated":{"line":1,"column":56}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","original":{"line":167,"column":0},"generated":{"line":1,"column":57}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","original":{"line":167,"column":0},"generated":{"line":1,"column":64}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","original":{"line":167,"column":0},"generated":{"line":1,"column":68}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","original":{"line":167,"column":0},"generated":{"line":1,"column":76}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","original":{"line":167,"column":0},"generated":{"line":1,"column":84}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","original":{"line":1,"column":0},"generated":{"line":1,"column":86}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"_minDom","original":{"line":1,"column":0},"generated":{"line":1,"column":90}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"require","original":{"line":1,"column":0},"generated":{"line":1,"column":92}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","original":{"line":1,"column":0},"generated":{"line":1,"column":100}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"_Event","original":{"line":5,"column":0},"generated":{"line":1,"column":111}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"require","original":{"line":5,"column":0},"generated":{"line":1,"column":113}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","original":{"line":5,"column":0},"generated":{"line":1,"column":121}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"HIGH_PRIORITY","original":{"line":16,"column":4},"generated":{"line":1,"column":141}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","original":{"line":16,"column":20},"generated":{"line":1,"column":143}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","original":{"line":34,"column":15},"generated":{"line":1,"column":148}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"HoverFix","original":{"line":34,"column":24},"generated":{"line":1,"column":157}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"elementRegistry","original":{"line":34,"column":33},"generated":{"line":1,"column":159}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"eventBus","original":{"line":34,"column":50},"generated":{"line":1,"column":161}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"injector","original":{"line":34,"column":60},"generated":{"line":1,"column":163}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","original":{"line":36,"column":2},"generated":{"line":1,"column":166}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"hoverGfx","original":{"line":105,"column":8},"generated":{"line":1,"column":170}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"hover","original":{"line":106,"column":8},"generated":{"line":1,"column":172}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"self","original":{"line":36,"column":6},"generated":{"line":1,"column":174}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","original":{"line":36,"column":13},"generated":{"line":1,"column":176}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"dragging","original":{"line":38,"column":6},"generated":{"line":1,"column":181}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"injector","original":{"line":38,"column":17},"generated":{"line":1,"column":183}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"get","original":{"line":38,"column":26},"generated":{"line":1,"column":185}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","original":{"line":38,"column":30},"generated":{"line":1,"column":189}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","original":{"line":38,"column":42},"generated":{"line":1,"column":201}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"dragging","original":{"line":71,"column":6},"generated":{"line":1,"column":204}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"eventBus","original":{"line":82,"column":4},"generated":{"line":1,"column":207}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"on","original":{"line":82,"column":13},"generated":{"line":1,"column":209}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","original":{"line":82,"column":16},"generated":{"line":1,"column":212}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","original":{"line":82,"column":30},"generated":{"line":1,"column":225}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"event","original":{"line":82,"column":39},"generated":{"line":1,"column":234}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"eventBus","original":{"line":84,"column":6},"generated":{"line":1,"column":237}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"once","original":{"line":84,"column":15},"generated":{"line":1,"column":239}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","original":{"line":84,"column":20},"generated":{"line":1,"column":244}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"HIGH_PRIORITY","original":{"line":84,"column":33},"generated":{"line":1,"column":256}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","original":{"line":84,"column":48},"generated":{"line":1,"column":258}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"event","original":{"line":84,"column":57},"generated":{"line":1,"column":267}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","original":{"line":45,"column":2},"generated":{"line":1,"column":271}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"event","original":{"line":45,"column":23},"generated":{"line":1,"column":280}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","original":{"line":47,"column":4},"generated":{"line":1,"column":283}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"event","original":{"line":47,"column":8},"generated":{"line":1,"column":287}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"hover","original":{"line":47,"column":14},"generated":{"line":1,"column":289}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","original":{"line":47,"column":4},"generated":{"line":1,"column":295}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","original":{"line":51,"column":4},"generated":{"line":1,"column":296}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"originalEvent","original":{"line":51,"column":8},"generated":{"line":1,"column":300}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"event","original":{"line":51,"column":24},"generated":{"line":1,"column":302}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"originalEvent","original":{"line":51,"column":30},"generated":{"line":1,"column":304}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"gfx","original":{"line":53,"column":8},"generated":{"line":1,"column":318}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"self","original":{"line":53,"column":14},"generated":{"line":1,"column":320}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"_findTargetGfx","original":{"line":53,"column":19},"generated":{"line":1,"column":322}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"originalEvent","original":{"line":53,"column":34},"generated":{"line":1,"column":337}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"element","original":{"line":55,"column":8},"generated":{"line":1,"column":340}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"gfx","original":{"line":55,"column":18},"generated":{"line":1,"column":342}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"elementRegistry","original":{"line":55,"column":25},"generated":{"line":1,"column":345}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"get","original":{"line":55,"column":41},"generated":{"line":1,"column":347}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"gfx","original":{"line":55,"column":45},"generated":{"line":1,"column":351}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"gfx","original":{"line":57,"column":8},"generated":{"line":1,"column":354}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"element","original":{"line":57,"column":15},"generated":{"line":1,"column":357}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"event","original":{"line":60,"column":6},"generated":{"line":1,"column":361}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"stopPropagation","original":{"line":60,"column":12},"generated":{"line":1,"column":363}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"dragging","original":{"line":63,"column":6},"generated":{"line":1,"column":381}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"hover","original":{"line":63,"column":15},"generated":{"line":1,"column":383}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","original":{"line":63,"column":21},"generated":{"line":1,"column":389}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"element","original":{"line":63,"column":23},"generated":{"line":1,"column":390}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"element","original":{"line":63,"column":32},"generated":{"line":1,"column":398}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"gfx","original":{"line":63,"column":41},"generated":{"line":1,"column":400}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"gfx","original":{"line":63,"column":46},"generated":{"line":1,"column":404}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"dragging","original":{"line":66,"column":6},"generated":{"line":1,"column":408}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"move","original":{"line":66,"column":15},"generated":{"line":1,"column":410}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"originalEvent","original":{"line":66,"column":20},"generated":{"line":1,"column":415}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"ensureHover","original":{"line":86,"column":8},"generated":{"line":1,"column":420}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"event","original":{"line":86,"column":20},"generated":{"line":1,"column":421}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"eventBus","original":{"line":108,"column":4},"generated":{"line":1,"column":428}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"on","original":{"line":108,"column":13},"generated":{"line":1,"column":430}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","original":{"line":108,"column":16},"generated":{"line":1,"column":433}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","original":{"line":108,"column":33},"generated":{"line":1,"column":449}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"event","original":{"line":108,"column":42},"generated":{"line":1,"column":458}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"hoverGfx","original":{"line":111,"column":6},"generated":{"line":1,"column":461}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"event","original":{"line":111,"column":17},"generated":{"line":1,"column":463}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"gfx","original":{"line":111,"column":23},"generated":{"line":1,"column":465}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"hover","original":{"line":112,"column":6},"generated":{"line":1,"column":469}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"event","original":{"line":112,"column":14},"generated":{"line":1,"column":471}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"element","original":{"line":112,"column":20},"generated":{"line":1,"column":473}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"eventBus","original":{"line":115,"column":4},"generated":{"line":1,"column":483}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"on","original":{"line":115,"column":13},"generated":{"line":1,"column":485}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","original":{"line":115,"column":16},"generated":{"line":1,"column":488}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"HIGH_PRIORITY","original":{"line":115,"column":33},"generated":{"line":1,"column":504}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","original":{"line":115,"column":48},"generated":{"line":1,"column":506}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"event","original":{"line":115,"column":57},"generated":{"line":1,"column":515}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"hover","original":{"line":118,"column":10},"generated":{"line":1,"column":518}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"eventBus","original":{"line":121,"column":8},"generated":{"line":1,"column":521}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"fire","original":{"line":121,"column":17},"generated":{"line":1,"column":523}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","original":{"line":121,"column":22},"generated":{"line":1,"column":528}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","original":{"line":121,"column":37},"generated":{"line":1,"column":542}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"element","original":{"line":122,"column":10},"generated":{"line":1,"column":543}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"hover","original":{"line":122,"column":19},"generated":{"line":1,"column":551}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"gfx","original":{"line":123,"column":10},"generated":{"line":1,"column":553}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"hoverGfx","original":{"line":123,"column":15},"generated":{"line":1,"column":557}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"eventBus","original":{"line":129,"column":4},"generated":{"line":1,"column":563}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"on","original":{"line":129,"column":13},"generated":{"line":1,"column":565}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","original":{"line":129,"column":16},"generated":{"line":1,"column":568}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","original":{"line":129,"column":31},"generated":{"line":1,"column":582}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"hoverGfx","original":{"line":132,"column":6},"generated":{"line":1,"column":593}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","original":{"line":132,"column":17},"generated":{"line":1,"column":595}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"hover","original":{"line":133,"column":6},"generated":{"line":1,"column":600}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","original":{"line":133,"column":14},"generated":{"line":1,"column":602}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","original":{"line":138,"column":2},"generated":{"line":1,"column":609}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"_findTargetGfx","original":{"line":138,"column":7},"generated":{"line":1,"column":614}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","original":{"line":138,"column":24},"generated":{"line":1,"column":629}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"event","original":{"line":138,"column":33},"generated":{"line":1,"column":638}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","original":{"line":139,"column":4},"generated":{"line":1,"column":641}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"position","original":{"line":139,"column":8},"generated":{"line":1,"column":645}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","original":{"line":142,"column":4},"generated":{"line":1,"column":647}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"event","original":{"line":142,"column":10},"generated":{"line":1,"column":650}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"MouseEvent","original":{"line":142,"column":27},"generated":{"line":1,"column":663}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","original":{"line":151,"column":4},"generated":{"line":1,"column":674}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"position","original":{"line":146,"column":4},"generated":{"line":1,"column":681}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","original":{"line":146,"column":15},"generated":{"line":1,"column":684}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"toPoint","original":{"line":146,"column":15},"generated":{"line":1,"column":686}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","original":{"line":146,"column":22},"generated":{"line":1,"column":688}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"event","original":{"line":146,"column":23},"generated":{"line":1,"column":697}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"getGfx","original":{"line":151,"column":11},"generated":{"line":1,"column":700}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"document","original":{"line":149,"column":13},"generated":{"line":1,"column":702}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"elementFromPoint","original":{"line":149,"column":22},"generated":{"line":1,"column":711}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"position","original":{"line":149,"column":39},"generated":{"line":1,"column":728}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"x","original":{"line":149,"column":48},"generated":{"line":1,"column":730}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"position","original":{"line":149,"column":51},"generated":{"line":1,"column":732}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"y","original":{"line":149,"column":60},"generated":{"line":1,"column":734}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","original":{"line":165,"column":0},"generated":{"line":1,"column":739}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"getGfx","original":{"line":165,"column":9},"generated":{"line":1,"column":748}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"target","original":{"line":165,"column":16},"generated":{"line":1,"column":750}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","original":{"line":166,"column":2},"generated":{"line":1,"column":753}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","original":{"line":166,"column":9},"generated":{"line":1,"column":760}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"domClosest","original":{"line":166,"column":9},"generated":{"line":1,"column":762}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","original":{"line":166,"column":19},"generated":{"line":1,"column":764}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"target","original":{"line":166,"column":20},"generated":{"line":1,"column":773}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","original":{"line":166,"column":28},"generated":{"line":1,"column":775}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","original":{"line":166,"column":49},"generated":{"line":1,"column":796}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"HoverFix","original":{"line":156,"column":0},"generated":{"line":1,"column":799}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","name":"$inject","original":{"line":156,"column":9},"generated":{"line":1,"column":801}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","original":{"line":156,"column":19},"generated":{"line":1,"column":809}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","original":{"line":157,"column":2},"generated":{"line":1,"column":810}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","original":{"line":158,"column":2},"generated":{"line":1,"column":828}},{"source":"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js","original":{"line":159,"column":2},"generated":{"line":1,"column":839}}],"sources":{"node_modules/diagram-js/lib/features/hover-fix/HoverFix.js":"import {\n  closest as domClosest\n} from 'min-dom';\n\nimport {\n  toPoint\n} from '../../util/Event';\n\n/**\n * @typedef {import('didi').Injector} Injector\n *\n * @typedef {import('../../core/ElementRegistry').default} ElementRegistry\n * @typedef {import('../../core/EventBus').default} EventBus\n */\n\nvar HIGH_PRIORITY = 1500;\n\n\n/**\n * Browsers may swallow certain events (hover, out ...) if users are to\n * fast with the mouse.\n *\n * @see http://stackoverflow.com/questions/7448468/why-cant-i-reliably-capture-a-mouseout-event\n *\n * The fix implemented in this component ensure that we\n *\n * 1) have a hover state after a successful drag.move event\n * 2) have an out event when dragging leaves an element\n *\n * @param {ElementRegistry} elementRegistry\n * @param {EventBus} eventBus\n * @param {Injector} injector\n */\nexport default function HoverFix(elementRegistry, eventBus, injector) {\n\n  var self = this;\n\n  var dragging = injector.get('dragging', false);\n\n  /**\n   * Make sure we are god damn hovering!\n   *\n   * @param {Event} dragging event\n   */\n  function ensureHover(event) {\n\n    if (event.hover) {\n      return;\n    }\n\n    var originalEvent = event.originalEvent;\n\n    var gfx = self._findTargetGfx(originalEvent);\n\n    var element = gfx && elementRegistry.get(gfx);\n\n    if (gfx && element) {\n\n      // 1) cancel current mousemove\n      event.stopPropagation();\n\n      // 2) emit fake hover for new target\n      dragging.hover({ element: element, gfx: gfx });\n\n      // 3) re-trigger move event\n      dragging.move(originalEvent);\n    }\n  }\n\n\n  if (dragging) {\n\n    /**\n     * We wait for a specific sequence of events before\n     * emitting a fake drag.hover event.\n     *\n     * Event Sequence:\n     *\n     * drag.start\n     * drag.move >> ensure we are hovering\n     */\n    eventBus.on('drag.start', function(event) {\n\n      eventBus.once('drag.move', HIGH_PRIORITY, function(event) {\n\n        ensureHover(event);\n\n      });\n\n    });\n  }\n\n\n  /**\n   * We make sure that element.out is always fired, even if the\n   * browser swallows an element.out event.\n   *\n   * Event sequence:\n   *\n   * element.hover\n   * (element.out >> sometimes swallowed)\n   * element.hover >> ensure we fired element.out\n   */\n  (function() {\n    var hoverGfx;\n    var hover;\n\n    eventBus.on('element.hover', function(event) {\n\n      // (1) remember current hover element\n      hoverGfx = event.gfx;\n      hover = event.element;\n    });\n\n    eventBus.on('element.hover', HIGH_PRIORITY, function(event) {\n\n      // (3) am I on an element still?\n      if (hover) {\n\n        // (4) that is a problem, gotta \"simulate the out\"\n        eventBus.fire('element.out', {\n          element: hover,\n          gfx: hoverGfx\n        });\n      }\n\n    });\n\n    eventBus.on('element.out', function() {\n\n      // (2) unset hover state if we correctly outed us *GG*\n      hoverGfx = null;\n      hover = null;\n    });\n\n  })();\n\n  this._findTargetGfx = function(event) {\n    var position,\n        target;\n\n    if (!(event instanceof MouseEvent)) {\n      return;\n    }\n\n    position = toPoint(event);\n\n    // damn expensive operation, ouch!\n    target = document.elementFromPoint(position.x, position.y);\n\n    return getGfx(target);\n  };\n\n}\n\nHoverFix.$inject = [\n  'elementRegistry',\n  'eventBus',\n  'injector'\n];\n\n\n// helpers /////////////////////\n\nfunction getGfx(target) {\n  return domClosest(target, 'svg, .djs-element', true);\n}"},"lineCount":null}},"error":null,"hash":"55e9d38858676ca3e5795d2f839555b5","cacheData":{"env":{}}}