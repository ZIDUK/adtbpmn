{"id":"uGsg","dependencies":[{"name":"/Users/jonathanpardofuentes/Documents/ESPOSO/Master Gerencia en Operaciones Estrtegicas/ADTSimulation/package.json","includedInParent":true,"mtime":1734517847220},{"name":"/Users/jonathanpardofuentes/Documents/ESPOSO/Master Gerencia en Operaciones Estrtegicas/ADTSimulation/node_modules/diagram-js/package.json","includedInParent":true,"mtime":1734532303675},{"name":"../../../util/Collections","loc":{"line":4,"column":7,"index":69},"parent":"/Users/jonathanpardofuentes/Documents/ESPOSO/Master Gerencia en Operaciones Estrtegicas/ADTSimulation/node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","resolved":"/Users/jonathanpardofuentes/Documents/ESPOSO/Master Gerencia en Operaciones Estrtegicas/ADTSimulation/node_modules/diagram-js/lib/util/Collections.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=e;var t=require(\"../../../util/Collections\");function e(t){this._modeling=t}function o(e,o){return(0,t.remove)(e&&e.attachers,o)}function r(e,o,r){if(e){var n=e.attachers;n||(e.attachers=n=[]),(0,t.add)(n,o,r)}}e.$inject=[\"modeling\"],e.prototype.execute=function(t){var e=t.shape,n=t.newHost,a=e.host;return t.oldHost=a,t.attacherIdx=o(a,e),r(n,e),e.host=n,e},e.prototype.revert=function(t){var e=t.shape,n=t.newHost,a=t.oldHost,s=t.attacherIdx;return e.host=a,o(n,e),r(a,e,s),e};"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","original":{"line":78,"column":0},"generated":{"line":1,"column":0}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","original":{"line":78,"column":0},"generated":{"line":1,"column":13}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","original":{"line":78,"column":0},"generated":{"line":1,"column":20}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","original":{"line":78,"column":0},"generated":{"line":1,"column":35}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","original":{"line":78,"column":0},"generated":{"line":1,"column":43}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","original":{"line":78,"column":0},"generated":{"line":1,"column":56}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","original":{"line":78,"column":0},"generated":{"line":1,"column":57}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","original":{"line":78,"column":0},"generated":{"line":1,"column":64}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","original":{"line":78,"column":0},"generated":{"line":1,"column":68}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","original":{"line":78,"column":0},"generated":{"line":1,"column":76}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","original":{"line":78,"column":0},"generated":{"line":1,"column":84}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","original":{"line":1,"column":0},"generated":{"line":1,"column":86}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"_Collections","original":{"line":1,"column":0},"generated":{"line":1,"column":90}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"require","original":{"line":1,"column":0},"generated":{"line":1,"column":92}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","original":{"line":1,"column":0},"generated":{"line":1,"column":100}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","original":{"line":15,"column":15},"generated":{"line":1,"column":129}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"UpdateAttachmentHandler","original":{"line":15,"column":24},"generated":{"line":1,"column":138}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"modeling","original":{"line":15,"column":48},"generated":{"line":1,"column":140}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","original":{"line":16,"column":2},"generated":{"line":1,"column":143}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"_modeling","original":{"line":16,"column":7},"generated":{"line":1,"column":148}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"modeling","original":{"line":16,"column":19},"generated":{"line":1,"column":158}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","original":{"line":59,"column":0},"generated":{"line":1,"column":160}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"removeAttacher","original":{"line":59,"column":9},"generated":{"line":1,"column":169}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"host","original":{"line":59,"column":24},"generated":{"line":1,"column":171}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"attacher","original":{"line":59,"column":30},"generated":{"line":1,"column":173}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","original":{"line":62,"column":2},"generated":{"line":1,"column":176}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","original":{"line":62,"column":9},"generated":{"line":1,"column":183}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"collectionRemove","original":{"line":62,"column":9},"generated":{"line":1,"column":185}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","original":{"line":62,"column":25},"generated":{"line":1,"column":187}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"host","original":{"line":62,"column":26},"generated":{"line":1,"column":195}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"host","original":{"line":62,"column":34},"generated":{"line":1,"column":198}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"attachers","original":{"line":62,"column":39},"generated":{"line":1,"column":200}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"attacher","original":{"line":62,"column":50},"generated":{"line":1,"column":210}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","original":{"line":65,"column":0},"generated":{"line":1,"column":213}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"addAttacher","original":{"line":65,"column":9},"generated":{"line":1,"column":222}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"host","original":{"line":65,"column":21},"generated":{"line":1,"column":224}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"attacher","original":{"line":65,"column":27},"generated":{"line":1,"column":226}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"idx","original":{"line":65,"column":37},"generated":{"line":1,"column":228}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","original":{"line":67,"column":2},"generated":{"line":1,"column":231}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"host","original":{"line":67,"column":7},"generated":{"line":1,"column":234}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","original":{"line":67,"column":2},"generated":{"line":1,"column":236}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","original":{"line":71,"column":2},"generated":{"line":1,"column":237}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"attachers","original":{"line":71,"column":6},"generated":{"line":1,"column":241}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"host","original":{"line":71,"column":18},"generated":{"line":1,"column":243}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"attachers","original":{"line":71,"column":23},"generated":{"line":1,"column":245}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"attachers","original":{"line":73,"column":7},"generated":{"line":1,"column":255}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"host","original":{"line":74,"column":4},"generated":{"line":1,"column":259}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"attachers","original":{"line":74,"column":9},"generated":{"line":1,"column":261}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"attachers","original":{"line":74,"column":21},"generated":{"line":1,"column":271}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","original":{"line":74,"column":33},"generated":{"line":1,"column":273}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","original":{"line":77,"column":2},"generated":{"line":1,"column":278}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"collectionAdd","original":{"line":77,"column":2},"generated":{"line":1,"column":280}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","original":{"line":77,"column":15},"generated":{"line":1,"column":282}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"attachers","original":{"line":77,"column":16},"generated":{"line":1,"column":287}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"attacher","original":{"line":77,"column":27},"generated":{"line":1,"column":289}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"idx","original":{"line":77,"column":37},"generated":{"line":1,"column":291}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"UpdateAttachmentHandler","original":{"line":19,"column":0},"generated":{"line":1,"column":295}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"$inject","original":{"line":19,"column":24},"generated":{"line":1,"column":297}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","original":{"line":19,"column":34},"generated":{"line":1,"column":305}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","original":{"line":19,"column":36},"generated":{"line":1,"column":306}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"UpdateAttachmentHandler","original":{"line":22,"column":0},"generated":{"line":1,"column":318}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"prototype","original":{"line":22,"column":24},"generated":{"line":1,"column":320}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"execute","original":{"line":22,"column":34},"generated":{"line":1,"column":330}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","original":{"line":22,"column":44},"generated":{"line":1,"column":338}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"context","original":{"line":22,"column":53},"generated":{"line":1,"column":347}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","original":{"line":23,"column":2},"generated":{"line":1,"column":350}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"shape","original":{"line":23,"column":6},"generated":{"line":1,"column":354}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"context","original":{"line":23,"column":14},"generated":{"line":1,"column":356}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"shape","original":{"line":23,"column":22},"generated":{"line":1,"column":358}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"newHost","original":{"line":24,"column":6},"generated":{"line":1,"column":364}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"context","original":{"line":24,"column":16},"generated":{"line":1,"column":366}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"newHost","original":{"line":24,"column":24},"generated":{"line":1,"column":368}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"oldHost","original":{"line":25,"column":6},"generated":{"line":1,"column":376}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"shape","original":{"line":25,"column":16},"generated":{"line":1,"column":378}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"host","original":{"line":25,"column":22},"generated":{"line":1,"column":380}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","original":{"line":37,"column":2},"generated":{"line":1,"column":385}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"context","original":{"line":28,"column":2},"generated":{"line":1,"column":392}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"oldHost","original":{"line":28,"column":10},"generated":{"line":1,"column":394}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"oldHost","original":{"line":28,"column":20},"generated":{"line":1,"column":402}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"context","original":{"line":29,"column":2},"generated":{"line":1,"column":404}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"attacherIdx","original":{"line":29,"column":10},"generated":{"line":1,"column":406}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"removeAttacher","original":{"line":29,"column":24},"generated":{"line":1,"column":418}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"oldHost","original":{"line":29,"column":39},"generated":{"line":1,"column":420}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"shape","original":{"line":29,"column":48},"generated":{"line":1,"column":422}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"addAttacher","original":{"line":32,"column":2},"generated":{"line":1,"column":425}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"newHost","original":{"line":32,"column":14},"generated":{"line":1,"column":427}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"shape","original":{"line":32,"column":23},"generated":{"line":1,"column":429}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"shape","original":{"line":35,"column":2},"generated":{"line":1,"column":432}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"host","original":{"line":35,"column":8},"generated":{"line":1,"column":434}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"newHost","original":{"line":35,"column":15},"generated":{"line":1,"column":439}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"shape","original":{"line":37,"column":9},"generated":{"line":1,"column":441}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"UpdateAttachmentHandler","original":{"line":40,"column":0},"generated":{"line":1,"column":444}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"prototype","original":{"line":40,"column":24},"generated":{"line":1,"column":446}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"revert","original":{"line":40,"column":34},"generated":{"line":1,"column":456}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","original":{"line":40,"column":43},"generated":{"line":1,"column":463}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"context","original":{"line":40,"column":52},"generated":{"line":1,"column":472}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","original":{"line":41,"column":2},"generated":{"line":1,"column":475}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"shape","original":{"line":41,"column":6},"generated":{"line":1,"column":479}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"context","original":{"line":41,"column":14},"generated":{"line":1,"column":481}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"shape","original":{"line":41,"column":22},"generated":{"line":1,"column":483}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"newHost","original":{"line":42,"column":6},"generated":{"line":1,"column":489}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"context","original":{"line":42,"column":16},"generated":{"line":1,"column":491}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"newHost","original":{"line":42,"column":24},"generated":{"line":1,"column":493}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"oldHost","original":{"line":43,"column":6},"generated":{"line":1,"column":501}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"context","original":{"line":43,"column":16},"generated":{"line":1,"column":503}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"oldHost","original":{"line":43,"column":24},"generated":{"line":1,"column":505}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"attacherIdx","original":{"line":44,"column":6},"generated":{"line":1,"column":513}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"context","original":{"line":44,"column":20},"generated":{"line":1,"column":515}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"attacherIdx","original":{"line":44,"column":28},"generated":{"line":1,"column":517}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","original":{"line":55,"column":2},"generated":{"line":1,"column":529}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"shape","original":{"line":47,"column":2},"generated":{"line":1,"column":536}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"host","original":{"line":47,"column":8},"generated":{"line":1,"column":538}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"oldHost","original":{"line":47,"column":15},"generated":{"line":1,"column":543}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"removeAttacher","original":{"line":50,"column":2},"generated":{"line":1,"column":545}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"newHost","original":{"line":50,"column":17},"generated":{"line":1,"column":547}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"shape","original":{"line":50,"column":26},"generated":{"line":1,"column":549}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"addAttacher","original":{"line":53,"column":2},"generated":{"line":1,"column":552}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"oldHost","original":{"line":53,"column":14},"generated":{"line":1,"column":554}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"shape","original":{"line":53,"column":23},"generated":{"line":1,"column":556}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"attacherIdx","original":{"line":53,"column":30},"generated":{"line":1,"column":558}},{"source":"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js","name":"shape","original":{"line":55,"column":9},"generated":{"line":1,"column":561}}],"sources":{"node_modules/diagram-js/lib/features/modeling/cmd/UpdateAttachmentHandler.js":"import {\n  add as collectionAdd,\n  remove as collectionRemove\n} from '../../../util/Collections';\n\n/**\n * @typedef {import('../Modeling').default} Modeling\n */\n\n/**\n * A handler that implements reversible attaching/detaching of shapes.\n *\n * @param {Modeling} modeling\n */\nexport default function UpdateAttachmentHandler(modeling) {\n  this._modeling = modeling;\n}\n\nUpdateAttachmentHandler.$inject = [ 'modeling' ];\n\n\nUpdateAttachmentHandler.prototype.execute = function(context) {\n  var shape = context.shape,\n      newHost = context.newHost,\n      oldHost = shape.host;\n\n  // (0) detach from old host\n  context.oldHost = oldHost;\n  context.attacherIdx = removeAttacher(oldHost, shape);\n\n  // (1) attach to new host\n  addAttacher(newHost, shape);\n\n  // (2) update host\n  shape.host = newHost;\n\n  return shape;\n};\n\nUpdateAttachmentHandler.prototype.revert = function(context) {\n  var shape = context.shape,\n      newHost = context.newHost,\n      oldHost = context.oldHost,\n      attacherIdx = context.attacherIdx;\n\n  // (2) update host\n  shape.host = oldHost;\n\n  // (1) attach to new host\n  removeAttacher(newHost, shape);\n\n  // (0) detach from old host\n  addAttacher(oldHost, shape, attacherIdx);\n\n  return shape;\n};\n\n\nfunction removeAttacher(host, attacher) {\n\n  // remove attacher from host\n  return collectionRemove(host && host.attachers, attacher);\n}\n\nfunction addAttacher(host, attacher, idx) {\n\n  if (!host) {\n    return;\n  }\n\n  var attachers = host.attachers;\n\n  if (!attachers) {\n    host.attachers = attachers = [];\n  }\n\n  collectionAdd(attachers, attacher, idx);\n}\n"},"lineCount":null}},"error":null,"hash":"5812c21cf9f0b7c3f0f195c58b429239","cacheData":{"env":{}}}